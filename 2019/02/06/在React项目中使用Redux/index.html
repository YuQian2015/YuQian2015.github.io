<!DOCTYPE html><html><head><meta charset="utf-8"><title>在React项目中使用Redux | Moyufed</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="baidu-site-verification" content="bWMteHRHG2"><meta name="description" content="1.安装紧接着上一次的实战项目，这次要来完状态管理，使用redux，首先需要安装一些包，执行以下命令安装：npm i redux react-redux redux-thunk --saveredux 和 react并没有太大的关联， react-redux使得redux能和react更好地工作和。redux-thunk是redux的一个中间件，让我们能够直接访问dispatch方法，因此能够在a"><meta name="keywords" content="react,redux,react-redux"><meta property="og:type" content="article"><meta property="og:title" content="在React项目中使用Redux"><meta property="og:url" content="http://blog.moyufed.com/2019/02/06/在React项目中使用Redux/index.html"><meta property="og:site_name" content="Moyufed"><meta property="og:description" content="1.安装紧接着上一次的实战项目，这次要来完状态管理，使用redux，首先需要安装一些包，执行以下命令安装：npm i redux react-redux redux-thunk --saveredux 和 react并没有太大的关联， react-redux使得redux能和react更好地工作和。redux-thunk是redux的一个中间件，让我们能够直接访问dispatch方法，因此能够在a"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2020-03-12T08:25:53.576Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="在React项目中使用Redux"><meta name="twitter:description" content="1.安装紧接着上一次的实战项目，这次要来完状态管理，使用redux，首先需要安装一些包，执行以下命令安装：npm i redux react-redux redux-thunk --saveredux 和 react并没有太大的关联， react-redux使得redux能和react更好地工作和。redux-thunk是redux的一个中间件，让我们能够直接访问dispatch方法，因此能够在a"><link rel="alternate" href="/atom.xml" title="Moyufed" type="application/atom+xml"><link rel="icon" href="/favicon.png"><link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/css/style.css"></head></html><body><div id="container"><div id="wrap"><header id="header"><div id="banner"></div><div id="header-outer" class="outer"><div id="header-title" class="inner"><h1 id="logo-wrap"><a href="/" id="logo">Moyufed</a></h1><h2 id="subtitle-wrap"><a href="/" id="subtitle">又摸到好大一条鱼，羡慕~！摸鱼前端分享交流，欢迎一起来摸鱼。</a></h2></div><div id="header-inner" class="inner"><nav id="main-nav"><a id="main-nav-toggle" class="nav-icon"></a> <a class="main-nav-link" href="/">Home</a> <a class="main-nav-link" href="/archives">Archives</a></nav><nav id="sub-nav"><a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a> <a id="nav-search-btn" class="nav-icon" title="搜索"></a></nav><div id="search-form-wrap"><form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://blog.moyufed.com"></form></div></div></div></header><div class="outer"><section id="main"><article id="post-在React项目中使用Redux" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2019/02/06/在React项目中使用Redux/" class="article-date"><time datetime="2019-02-06T06:32:34.000Z" itemprop="datePublished">2019-02-05</time></a></div><div class="article-inner"><header class="article-header"><h1 class="article-title" itemprop="name">在React项目中使用Redux</h1></header><div class="article-entry" itemprop="articleBody"><h3 id="1-安装"><a href="#1-安装" class="headerlink" title="1.安装"></a>1.安装</h3><p>紧接着上一次的实战项目，这次要来完状态管理，使用redux，首先需要安装一些包，执行以下命令安装：</p><p><code>npm i redux react-redux redux-thunk --save</code></p><p>redux 和 react并没有太大的关联， react-redux使得redux能和react更好地工作和。redux-thunk是redux的一个中间件，让我们能够直接访问dispatch方法，因此能够在action里面使用异步调用。</p><a id="more"></a><h3 id="2-使用Provider"><a href="#2-使用Provider" class="headerlink" title="2.使用Provider"></a>2.使用Provider</h3><p>需要讲所有的组件使用react-redux的provider嵌套起来，在App.jsx中引入provider：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Provider &#125; <span class="keyword">from</span> <span class="string">'react-redux'</span>;</span><br></pre></td></tr></table></figure><p>使用 Provider 封装整个导出的组件，Provider 使用store属性来存储状态，因此给provider传递store，如下：</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;Provider store=&#123;store&#125;&gt;</span><br><span class="line">            &lt;Router&gt;</span><br><span class="line">                &lt;Switch&gt;</span><br><span class="line">                    &lt;Route exact path=<span class="string">"/"</span> render=&#123;() =&gt; (<span class="xml"><span class="tag">&lt;<span class="name">Redirect</span> <span class="attr">to</span>=<span class="string">"/exhibition"</span>/&gt;</span>)&#125;/&gt;</span></span><br><span class="line">                    &lt;Route exact path="/sign-in" component=&#123;SignInPage&#125;/&gt;</span><br><span class="line">                    &lt;Route exact path="/exhibition" component=&#123;ExhibitionPage&#125;/&gt;</span><br><span class="line">                &lt;/Switch&gt;</span><br><span class="line"><span class="xml">            <span class="tag">&lt;/<span class="name">Router</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">Provider</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-导出store"><a href="#3-导出store" class="headerlink" title="3.导出store"></a>3.导出store</h3><p>接下来需要创建store，首先创建一个store文件夹，src/store，并且在这个目录创建一个store.js</p><p>文档 <a href="https://github.com/reduxjs/redux/tree/master/docs/api" target="_blank" rel="noopener">https://github.com/reduxjs/redux/tree/master/docs/api</a> ，先看代码示例，store.js：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 从redux引入createStore，applyMiddleware，分别用来创建store和使用中间件</span></span><br><span class="line"><span class="keyword">import</span> &#123; createStore, applyMiddleware &#125; <span class="keyword">from</span> <span class="string">'redux'</span>;</span><br><span class="line"><span class="comment">// 引入thunk中间件</span></span><br><span class="line"><span class="keyword">import</span> thunk <span class="keyword">from</span> <span class="string">'redux-thunk'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 引入根reducer</span></span><br><span class="line"><span class="keyword">import</span> rootReducer <span class="keyword">from</span> <span class="string">'../reducer'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建初始状态</span></span><br><span class="line"><span class="keyword">const</span> initialState = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一个中间件的数组</span></span><br><span class="line"><span class="keyword">const</span> middleware = [thunk];</span><br><span class="line"></span><br><span class="line"><span class="comment">// Arguments</span></span><br><span class="line"><span class="comment">// reducer (Function): A reducing function that returns the next state tree, given the current state tree and an action to handle.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//     [preloadedState] (any): The initial state. You may optionally specify it to hydrate the state from the server in universal apps, or to restore a previously serialized user session. If you produced reducer with combineReducers, this must be a plain object with the same shape as the keys passed to it. Otherwise, you are free to pass anything that your reducer can understand.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//     [enhancer] (Function): The store enhancer. You may optionally specify it to enhance the store with third-party capabilities such as middleware, time travel, persistence, etc. The only store enhancer that ships with Redux is applyMiddleware().</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Returns</span></span><br><span class="line"><span class="comment">// (Store): An object that holds the complete state of your app. The only way to change its state is by dispatching actions. You may also subscribe to the changes to its state to update the UI.</span></span><br><span class="line"><span class="keyword">const</span> store = createStore(rootReducer, initialState, applyMiddleware(...middleware));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导出store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store;</span><br></pre></td></tr></table></figure><p>上面的示例已经导出了store，然后在App.jsx引入store：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Provider &#125; <span class="keyword">from</span> <span class="string">'react-redux'</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./store/store'</span>;</span><br></pre></td></tr></table></figure><p>使用createStore(reducer, [preloadedState], [enhancer])创建store， createStore接收三个参数：</p><ul><li>reducer —— 根reducer，可以根据资源创建其他reducer如：postReducer、todoReducer等，然后把这些reducer合并到根reducer并传到store。</li><li>preloadedState——就是初始的state。</li><li>enhancer——扩展，比如使用中间件middleware。</li></ul><h3 id="3-创建reducer"><a href="#3-创建reducer" class="headerlink" title="3.创建reducer"></a>3.创建reducer</h3><h4 id="3-1-创建根reducer"><a href="#3-1-创建根reducer" class="headerlink" title="3.1.创建根reducer"></a>3.1.创建根reducer</h4><p>创建一个目录reducer，并且在里面创建一个index.js，然后在上面写的store.js里面把这个reducer引入，</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入combineReducers，用来合并reducer</span></span><br><span class="line"><span class="keyword">import</span> &#123; combineReducers &#125; <span class="keyword">from</span> <span class="string">'redux'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从各个reducer文件导入reducer</span></span><br><span class="line"><span class="keyword">import</span> animeReducer <span class="keyword">from</span> <span class="string">'./animeReducer'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导出reducer 并且为它们都设置一个命名，如：animeReducer命名为anime</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> combineReducers(&#123;</span><br><span class="line">    anime: animeReducer</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>在rootReducer里面做的事情很简单，就是合并其它的reducer并且把合并的结果导出去。</p><h4 id="3-2-创建各个reducer"><a href="#3-2-创建各个reducer" class="headerlink" title="3.2.创建各个reducer"></a>3.2.创建各个reducer</h4><p>在创建reducer之前，先来创建type，type内部基本上就是常量，创建一个action目录，src/action，并在里面新建一个文件type.js，代码如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 我们创建的action实际上包含了type，type基本上都是常量。</span></span><br><span class="line"><span class="comment">// 导出定义的action</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> FETCH_ANIME = <span class="string">'FETCH_ANIME'</span>;</span><br></pre></td></tr></table></figure><p>在reducer目录新建 animeReducer.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 从types.js 导入 type</span></span><br><span class="line"><span class="keyword">import</span> &#123; FETCH_ANIME &#125; <span class="keyword">from</span> <span class="string">"../action/type"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义初始state</span></span><br><span class="line"><span class="keyword">const</span> initialState = &#123;</span><br><span class="line">    items: [] <span class="comment">// 这里的items就代表着从action传来的数据列表，而在cation里面会去获取数据。</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 导出一个方法，接收两个参数，第一个就是初始状态，第二个是action，action是一个对象，包含type属性</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> (<span class="params">state = initialState, action</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 判断action的type，导出state，默认导出初始state</span></span><br><span class="line">    <span class="comment">// 如果type是FETCH_ANIME，则将返回初始state与action返回的的payload的数据</span></span><br><span class="line">    <span class="comment">// payload用来表示返回数据，这些数据会在action里面通过调用dispatch方法返回，关于action会紧接着在后面介绍。</span></span><br><span class="line">    <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">        <span class="keyword">case</span> FETCH_ANIME:</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                ... state,</span><br><span class="line">                items: action.payload</span><br><span class="line">            &#125;;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> state;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>###4.创建action</p><p>在src/action目录里面，可以创建action文件，animeAction.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入type</span></span><br><span class="line"><span class="keyword">import</span> &#123; FETCH_ANIME&#125; <span class="keyword">from</span> <span class="string">"./type"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导出一个方法，获取影片</span></span><br><span class="line"><span class="keyword">export</span>  <span class="function"><span class="keyword">function</span> <span class="title">fetchAnime</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 里面再导出一个方法，接收dispatch, dispatch会将获取的数据传到reducer</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">dispatch</span>) </span>&#123;</span><br><span class="line">        fetch(<span class="string">'https://ghibliapi.herokuapp.com/films'</span>)</span><br><span class="line">            .then(<span class="function"><span class="params">res</span> =&gt;</span> res.json())</span><br><span class="line">            .then(<span class="function"><span class="params">anime</span> =&gt;</span> dispatch(&#123;</span><br><span class="line">                type: FETCH_ANIME,</span><br><span class="line">                payload: anime</span><br><span class="line">            &#125;))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 简写</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> fetchAnime = <span class="function"><span class="params">()</span> =&gt;</span> dispatch =&gt; &#123;</span><br><span class="line">    fetch(<span class="string">'https://ghibliapi.herokuapp.com/films'</span>)</span><br><span class="line">        .then(<span class="function"><span class="params">res</span> =&gt;</span> res.json())</span><br><span class="line">        .then(<span class="function"><span class="params">anime</span> =&gt;</span> dispatch(&#123;</span><br><span class="line">            type: FETCH_ANIME,</span><br><span class="line">            payload: anime</span><br><span class="line">        &#125;))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>每个action都是一个function，react-thunk中间件使得能够直接访问dispatch方法，因此在action里面可以使用异步请求，使用dispatch可以向reducer发送数据。</p><h3 id="5-在组建中使用"><a href="#5-在组建中使用" class="headerlink" title="5.在组建中使用"></a>5.在组建中使用</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> PropTypes <span class="keyword">from</span> <span class="string">'prop-types'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 引入connect来使被provider包裹的react组件连接到redux的store</span></span><br><span class="line"><span class="keyword">import</span> &#123; connect &#125; <span class="keyword">from</span> <span class="string">'react-redux'</span>;</span><br><span class="line"><span class="comment">// 引入请求数据的action</span></span><br><span class="line"><span class="keyword">import</span> &#123; fetchAnime &#125; <span class="keyword">from</span> <span class="string">'../action/animeAction'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AnimePage</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">        <span class="keyword">super</span>(props);</span><br><span class="line">        <span class="keyword">this</span>.state = &#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 组件将要加载</span></span><br><span class="line">    componentWillMount() &#123;</span><br><span class="line">        <span class="keyword">this</span>.props.fetchAnime();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 组件挂载完毕</span></span><br><span class="line">    componentDidMount() &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"AnimePage"</span>&gt;</span>&#123;</span></span><br><span class="line">            this.props.anime.map(item =&gt; &lt;div key=&#123;item.id&#125;&gt;</span><br><span class="line">                &lt;h3&gt;</span><br><span class="line">                    &#123;item.title&#125;</span><br><span class="line">                &lt;/h3&gt;</span><br><span class="line">                &lt;p&gt;</span><br><span class="line">                    &#123;item.description&#125;</span><br><span class="line">                &lt;/p&gt;</span><br><span class="line"><span class="xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span>)</span></span><br><span class="line"><span class="xml">        &#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 定义PropTypes</span></span><br><span class="line">AnimePage.propTypes = &#123;</span><br><span class="line">    fetchAnime: PropTypes.func.isRequired,</span><br><span class="line">    anime: PropTypes.array.isRequired</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一个方法将redux的state转换成props</span></span><br><span class="line"><span class="keyword">const</span> mapStateToProps = <span class="function"><span class="params">state</span> =&gt;</span> (&#123;</span><br><span class="line">    <span class="comment">// 这里使用的state.anime 是在 reducer/index.js 文件中的 根reducer里面定义的名称。</span></span><br><span class="line">    anime: state.anime.items</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect(mapStateToProps, &#123; fetchAnime &#125;)(AnimePage);</span><br></pre></td></tr></table></figure></div><footer class="article-footer"><a data-url="http://blog.moyufed.com/2019/02/06/在React项目中使用Redux/" data-id="ckedy7t7s00068ovycbpcpzqp" class="article-share-link">Share</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react/">react</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react-redux/">react-redux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/redux/">redux</a></li></ul></footer></div><nav id="article-nav"><a href="/2019/09/05/Linux中安装Nodejs和MongoBD以及MongoDB设置/" id="article-nav-newer" class="article-nav-link-wrap"><strong class="article-nav-caption">Newer</strong><div class="article-nav-title">Linux中安装Nodejs和MongoBD以及MongoDB设置</div></a><a href="/2019/01/06/react-intl + React Context API 实现多语言切换/" id="article-nav-older" class="article-nav-link-wrap"><strong class="article-nav-caption">Older</strong><div class="article-nav-title">react-intl + React Context API 实现多语言切换</div></a></nav></article></section><aside id="sidebar"><div class="widget-wrap"><h3 class="widget-title">标签</h3><div class="widget"><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/">Nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OnsenUI/">OnsenUI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Wcp/">Wcp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webpack/">Webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/">nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react-intl/">react-intl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react-redux/">react-redux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redux/">redux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端/">前端</a></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">标签云</h3><div class="widget tagcloud"><a href="/tags/Linux/" style="font-size:20px">Linux</a> <a href="/tags/Nginx/" style="font-size:10px">Nginx</a> <a href="/tags/OnsenUI/" style="font-size:10px">OnsenUI</a> <a href="/tags/React/" style="font-size:20px">React</a> <a href="/tags/Wcp/" style="font-size:10px">Wcp</a> <a href="/tags/Webpack/" style="font-size:10px">Webpack</a> <a href="/tags/mongodb/" style="font-size:20px">mongodb</a> <a href="/tags/nodejs/" style="font-size:10px">nodejs</a> <a href="/tags/react/" style="font-size:10px">react</a> <a href="/tags/react-intl/" style="font-size:10px">react-intl</a> <a href="/tags/react-redux/" style="font-size:10px">react-redux</a> <a href="/tags/redux/" style="font-size:10px">redux</a> <a href="/tags/前端/" style="font-size:10px">前端</a></div></div><div class="widget-wrap"><h3 class="widget-title">归档</h3><div class="widget"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">最新文章</h3><div class="widget"><ul><li><a href="/2020/04/04/【前端开发日常-18】快速配置webpack开发环境/">【前端开发日常 - 18】快速配置webpack开发环境</a></li><li><a href="/2020/03/31/JavaScript的this关键字/">JavaScript的this关键字</a></li><li><a href="/2020/03/31/File-APIs（Blob-BlobURL-ArrayBuffer-FileReader）/">File APIs（Blob, BlobURL, ArrayBuffer, FileReader）</a></li><li><a href="/2019/12/17/使用Taro开发一个微信小程序一/">使用Taro开发一个微信小程序一</a></li><li><a href="/2019/11/24/个人账单和砸金蛋前端动画分享/">个人账单和砸金蛋前端动画分享</a></li></ul></div></div></aside></div><footer id="footer"><div class="outer"><div id="footer-info" class="inner">&copy; 2020 Moyufed<br>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br><a href="http://www.beian.miit.gov.cn" target="_blank">黔ICP备18007258号</a></div></div></footer></div><nav id="mobile-nav"><a href="/" class="mobile-nav-link">Home</a> <a href="/archives" class="mobile-nav-link">Archives</a></nav><script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><link rel="stylesheet" href="/fancybox/jquery.fancybox.css"><script src="/fancybox/jquery.fancybox.pack.js"></script><script src="/js/script.js"></script></div></body>
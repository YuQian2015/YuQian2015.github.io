<!DOCTYPE html><html><head><meta charset="utf-8"><title>æ‘¸é±¼å‰ç«¯ | Moyufed</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="baidu-site-verification" content="bWMteHRHG2"><meta name="description" content="åˆ†äº«æœ‰è¶£å¥½ç©çš„å‰ç«¯æŠ€æœ¯"><meta name="keywords" content="å‰ç«¯,å…¨æ ˆ,åˆ†äº«,nodejs,webpack,linux"><meta property="og:type" content="website"><meta property="og:title" content="æ‘¸é±¼å‰ç«¯ | Moyufed"><meta property="og:url" content="http://blog.moyufed.com/page/2/index.html"><meta property="og:site_name" content="æ‘¸é±¼å‰ç«¯ | Moyufed"><meta property="og:description" content="åˆ†äº«æœ‰è¶£å¥½ç©çš„å‰ç«¯æŠ€æœ¯"><meta property="og:locale" content="zh-CN"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="æ‘¸é±¼å‰ç«¯ | Moyufed"><meta name="twitter:description" content="åˆ†äº«æœ‰è¶£å¥½ç©çš„å‰ç«¯æŠ€æœ¯"><link rel="alternate" href="/atom.xml" title="æ‘¸é±¼å‰ç«¯ | Moyufed" type="application/atom+xml"><link rel="icon" href="/favicon.ico"><link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/css/style.css"></head></html><body><div id="container"><div id="wrap"><header id="header"><div id="banner"></div><div id="header-outer" class="outer"><div id="header-title" class="inner"><h1 id="logo-wrap"><a href="/" id="logo">æ‘¸é±¼å‰ç«¯ | Moyufed</a></h1><h2 id="subtitle-wrap"><a href="/" id="subtitle">åˆ†äº«æœ‰è¶£å¥½ç©çš„å‰ç«¯æŠ€æœ¯ï¼Œæ¸¸æˆç ”ç©¶çŒ¿ï¼Œæ¬¢è¿äº¤æµï¼Œä¸€èµ·æ¥æ‘¸é±¼ã€‚</a></h2></div><div id="header-inner" class="inner"><nav id="main-nav"><a id="main-nav-toggle" class="nav-icon"></a> <a class="main-nav-link" href="/">Home</a> <a class="main-nav-link" href="/archives">Archives</a></nav><nav id="sub-nav"><a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a> <a id="nav-search-btn" class="nav-icon" title="æœç´¢"></a></nav><div id="search-form-wrap"><form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://blog.moyufed.com"></form></div></div></div></header><div class="outer"><section id="main"><article id="post-File-APIsï¼ˆBlob-BlobURL-ArrayBuffer-FileReaderï¼‰" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2020/03/31/File-APIsï¼ˆBlob-BlobURL-ArrayBuffer-FileReaderï¼‰/" class="article-date"><time datetime="2020-03-31T06:13:32.000Z" itemprop="datePublished">2020-03-30</time></a></div><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2020/03/31/File-APIsï¼ˆBlob-BlobURL-ArrayBuffer-FileReaderï¼‰/">File APIsï¼ˆBlob, BlobURL, ArrayBuffer, FileReaderï¼‰</a></h1></header><div class="article-entry" itemprop="articleBody"><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä»¥å‰çš„JavaScriptå¾ˆä¸æ“…é•¿å¤„ç†äºŒè¿›åˆ¶æ•°æ®ï¼Œè¦å°†äºŒè¿›åˆ¶æ•°æ®ä¿å­˜åœ¨æµè§ˆå™¨ä¸Šä½¿ç”¨éœ€è¦ç‰ºç‰²1.3å€çš„å­˜å‚¨ç©ºé—´ï¼ˆå°†æ•°æ®è½¬æ¢æˆ <code>DataURI</code> ï¼‰ã€‚å³ä½¿æ˜¯ä½¿ç”¨ <code>XHR</code> ä»æœåŠ¡å™¨è¯·æ±‚æ•°æ®ï¼Œå°†è¯»å…¥å†…å­˜ä¹‹åè¿˜éœ€è¦è½¬æ¢æˆ <code>Base64</code> / <code>DataURI</code> ï¼‰ï¼Œè¿‡ç¨‹ååˆ†ç¹çã€‚</p><p>ä½†æ˜¯ï¼Œæ—¶ä»£å·²ç»å˜äº†ã€‚</p><p>ç°åœ¨çš„JavaScriptä¸­ï¼Œå¤„ç†äºŒè¿›åˆ¶æ•°æ®å·²ç»ä¸æ˜¯éš¾é¢˜ã€‚ç¡¬ä»¶å’Œ JITï¼ˆjust-in-timeï¼‰ç¼–è¯‘å™¨çš„å‡çº§ï¼Œè®©H5å®ç°å¤§å¤šæ•°APIæ¥å¤„ç†å¤§å®¹é‡çš„äºŒè¿›åˆ¶æ•°æ®ã€‚</p><p>ä¸‹é¢æ¥ä»‹ç»HTML5çš„Blob, File, FileListç­‰å¯¹è±¡ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„ç›¸äº’è½¬æ¢ã€‚</p><h2 id="HTML5çš„File-APIå’Œå¯¹è±¡"><a href="#HTML5çš„File-APIå’Œå¯¹è±¡" class="headerlink" title="HTML5çš„File APIå’Œå¯¹è±¡"></a>HTML5çš„File APIå’Œå¯¹è±¡</h2><h3 id="Blob"><a href="#Blob" class="headerlink" title="Blob"></a>Blob</h3><p>Blobå¯ä»¥æ›´å¥½çš„å¤„ç†äºŒè¿›åˆ¶æ•°æ®å’Œæ–‡ä»¶ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Blob</span> </span>&#123;</span><br><span class="line">    readonly size: UINT64 = <span class="number">0</span>,</span><br><span class="line">    readonly type: <span class="built_in">String</span> = <span class="string">""</span>,</span><br><span class="line"></span><br><span class="line">    <span class="keyword">constructor</span>(source:AnyArray, option:BlobTypeObject = null):Blob &#123; &#125;,</span><br><span class="line">    slice(start:INT64 = <span class="number">0</span>, <span class="attr">end</span>:INT64 = <span class="number">0</span>, <span class="attr">contentType</span>:<span class="built_in">String</span> = <span class="string">""</span>):Blob &#123; &#125;,</span><br><span class="line">    close():<span class="keyword">void</span> &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BlobTypeObject</span> </span>&#123;</span><br><span class="line">    readonly type: <span class="built_in">String</span> = <span class="string">""</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Blobå…·æœ‰ <code>size</code> å’Œ <code>type</code> å±æ€§ï¼Œå¹¶ä¸”è¿˜æœ‰ <code>slice</code> å’Œ <code>close</code> æ–¹æ³•ï¼Œå¯ä»¥åœ¨ <code>ArrayBuffer</code> æˆ– <code>BlobURL</code> ä¹‹é—´ç›¸äº’è½¬æ¢ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> source = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>([ <span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span> ]);</span><br><span class="line"><span class="keyword">var</span> blob = <span class="keyword">new</span> Blob([ source ]);</span><br><span class="line"><span class="keyword">var</span> reader = <span class="keyword">new</span> FileReader();</span><br><span class="line"></span><br><span class="line">reader.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(reader.result); <span class="comment">// reader.result æ˜¯ ArrayBuffer</span></span><br><span class="line">&#125;;</span><br><span class="line">reader.readAsArrayBuffer(blob);</span><br></pre></td></tr></table></figure><p>Blobæ„é€ å™¨çš„ç¬¬ä¸€å‚æ•°æŒ‡å®šä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„çš„å…ƒç´ ç±»å‹å¯ä»¥æ˜¯ <code>Blob</code> ã€<code>ArrayBuffer</code> ã€<code>TypedArray</code>ã€<code>String</code> æˆ– <code>Object</code> ã€‚å¦‚æœæ˜¯ <code>Object</code> çš„æƒ…å†µè¿˜éœ€è¦ç”¨ <code>toString</code> æ–¹æ³•è½¬æ¢æˆå­—ç¬¦ä¸²ã€‚å¦‚æœæœ‰å¤šä¸ªé¡¹çš„æƒ…å†µï¼Œå°†æŒ‰ç…§é¡ºåºé“¾æ¥Blobå¯¹è±¡å†…å®¹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªç©ºçš„Blobå¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> blob = <span class="keyword">new</span> Blob();</span><br></pre></td></tr></table></figure><p>Blobçš„ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šäº† <code>{ type: MimeTypeString }</code> ï¼Œ<code>MimeTypeString</code> è®¾ç½®äº†Blobçš„ç§ç±» <code>MimeType</code> ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ª octet-binary Blob å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> buffer1 = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(<span class="number">100</span>);</span><br><span class="line"><span class="keyword">var</span> buffer2 = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(<span class="number">100</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> blob = <span class="keyword">new</span> Blob([buffer1, buffer2], &#123; <span class="attr">type</span>: <span class="string">"application/octet-binary"</span> &#125;);</span><br></pre></td></tr></table></figure><p>é€šå¸¸ä½¿ç”¨äºŒè¿›åˆ¶æ•°æ®æ—¶ä¼šæŒ‡å®šç±»å‹ï¼Œå¦‚ï¼š <code>{ type: &quot;application/octet-binary&quot; }</code> ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> blob = <span class="keyword">new</span> Blob([file], &#123; <span class="attr">type</span>: <span class="string">"image/png"</span> &#125;);</span><br><span class="line"><span class="keyword">var</span> blob = <span class="keyword">new</span> Blob([binary], &#123; <span class="attr">type</span>: <span class="string">"application/octet-binary"</span> &#125;);</span><br><span class="line"><span class="keyword">var</span> blob = <span class="keyword">new</span> Blob([<span class="string">"å­—ç¬¦ä¸²"</span>], &#123; <span class="attr">type</span>: <span class="string">"text/plain"</span> &#125;);</span><br><span class="line"><span class="keyword">var</span> blob = <span class="keyword">new</span> Blob([<span class="string">"&lt;html&gt;"</span>], &#123; <span class="attr">type</span>: <span class="string">"text/plain;charset=UTF-8"</span> &#125;);</span><br></pre></td></tr></table></figure><h3 id="File"><a href="#File" class="headerlink" title="File"></a>File</h3><p>Fileç»§æ‰¿äº†Blobå¯¹è±¡ã€‚å¹¶ä¸”è¿½åŠ äº†Blobçš„ <code>{ name:String, lastModifiedDate:Date }</code> å±æ€§ï¼ŒFile æ˜¯ JavaScript ä¸­å°‘æ•°å¤„ç†æœ¬åœ°æ–‡ä»¶æ–¹æ³•çš„ä¸€ç§ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">File</span> <span class="keyword">extends</span> <span class="title">Blob</span> </span>&#123;</span><br><span class="line">    readonly name: <span class="built_in">String</span> = <span class="string">""</span>,</span><br><span class="line">    readonly lastModifiedDate: <span class="built_in">Date</span> = <span class="literal">null</span>,</span><br><span class="line">    readonly webkitRelativePath: <span class="built_in">String</span> = <span class="string">""</span>,</span><br><span class="line"></span><br><span class="line">    <span class="keyword">constructor</span>(source:Blob, fileName:String):File &#123; &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨Chromeä¸­ï¼ŒFileçš„æ„é€ å™¨éœ€è¦æŒ‡å®šä¸€ä¸ªæ•°ç»„ï¼š <code>new File([], ...)</code> ï¼Œæ‰©å±•äº† <code>{ lastModified: Integer, webkitRelativePath: String }</code> ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Chromeçš„ç¤ºä¾‹</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">File</span> <span class="keyword">extends</span> <span class="title">Blob</span> </span>&#123;</span><br><span class="line">    readonly name: <span class="built_in">String</span> = <span class="string">""</span>,</span><br><span class="line">    readonly lastModified: Integer = <span class="number">0</span>,</span><br><span class="line">    readonly lastModifiedDate: <span class="built_in">Date</span> = <span class="literal">null</span>,</span><br><span class="line">    readonly webkitRelativePath: <span class="built_in">String</span> = <span class="string">""</span>,</span><br><span class="line"></span><br><span class="line">    <span class="keyword">constructor</span>(source:AnyArray, fileName:String):File &#123; &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”±äºFileç»§æ‰¿äº†Blobï¼Œå› æ­¤Fileä¹Ÿæ”¯æŒä½¿ç”¨ <code>FileReader.readAsArrayBuffer()</code> APIè½¬æ¢ä¸ºBlobã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reader = <span class="keyword">new</span> FileReader();</span><br><span class="line"></span><br><span class="line">reader.readAsArrayBuffer(file);</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_toBlob</span>(<span class="params">url, callback</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    xhr.responseType = <span class="string">"blob"</span>;</span><br><span class="line">    xhr.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        callback(xhr.response, url);</span><br><span class="line">    &#125;;</span><br><span class="line">    xhr.open(<span class="string">"GET"</span>, url);</span><br><span class="line">    xhr.send();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">_toBlob(location.href, <span class="function"><span class="keyword">function</span>(<span class="params">blob</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> blobURL = URL.createObjectURL(blob);</span><br><span class="line">    <span class="keyword">var</span> file = <span class="keyword">new</span> File([blob], <span class="string">"foo.html"</span>); <span class="comment">// æˆ–è€…æ˜¯ new File(blob, ...)</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="FileList"><a href="#FileList" class="headerlink" title="FileList"></a>FileList</h3><p><code>FileList</code> æ˜¯é€šè¿‡DOMå¦‚ <code>&lt;input type=&quot;file&quot; multiple=&quot;multiple&quot;&gt;</code> çš„ <code>onchange</code> å–å¾—çš„Fileçš„åˆ—è¡¨ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'input[type="file"]'</span>).addEventListener(<span class="string">"change"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> fileList = event.target.files; <span class="comment">// ArrayLikeObject</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, iz = fileList.length; i &lt; iz; ++i) &#123;</span><br><span class="line">        <span class="keyword">var</span> file = fileList[<span class="number">0</span>];</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FileList</span> </span>&#123;</span><br><span class="line">    readonly length: UINT32 = <span class="number">0</span>,</span><br><span class="line"></span><br><span class="line">    item(index:UINT32):File &#123; &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="FileReader"><a href="#FileReader" class="headerlink" title="FileReader"></a>FileReader</h3><p><code>FileReader</code> ç±»å¯ä»¥å°†äºŒè¿›åˆ¶æ•°æ®è¯»å…¥å†…å­˜ã€‚</p><p>ä½¿ç”¨ <code>readAsArrayBuffer</code> æ–¹æ³•å¯ä»¥å°† <code>Blob</code> è½¬æ¢æˆ <code>ArrayBuffer</code> ï¼Œè½¬æ¢çš„ç»“æœé€šè¿‡ <code>result</code> å±æ€§è¿›è¡Œè®¾ç½®ï¼ŒåŒæ ·å¯ä»¥ä½¿ç”¨ <code>readAsDataURL</code> æˆ– <code>readAsText</code> ç­‰æ–¹æ³•è¿›è¡Œè½¬æ¢ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FileReader</span> <span class="keyword">extends</span> <span class="title">EventHandler</span> </span>&#123;</span><br><span class="line">    EMPTY:   UINT16 = <span class="number">0</span>,</span><br><span class="line">    LOADING: UINT16 = <span class="number">1</span>,</span><br><span class="line">    DONE:    UINT16 = <span class="number">2</span>,</span><br><span class="line">    readonly error: <span class="built_in">Error</span> = <span class="literal">null</span>,</span><br><span class="line">    readonly result: <span class="built_in">ArrayBuffer</span>|<span class="built_in">String</span> = <span class="literal">null</span>,</span><br><span class="line">    readonly readyState: UINT16 = EMPTY,</span><br><span class="line">    onload:      EventHandler = <span class="literal">null</span>,</span><br><span class="line">    onloadstart: EventHandler = <span class="literal">null</span>,</span><br><span class="line">    onloadend:   EventHandler = <span class="literal">null</span>,</span><br><span class="line">    onprogress:  EventHandler = <span class="literal">null</span>,</span><br><span class="line">    onabort:     EventHandler = <span class="literal">null</span>,</span><br><span class="line">    onerror:     EventHandler = <span class="literal">null</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// async read methods</span></span><br><span class="line">    readAsArrayBuffer(blob:Blob): <span class="keyword">void</span> &#123;&#125;,</span><br><span class="line">    readAsDataURL(blob:Blob):<span class="keyword">void</span> &#123;&#125;,</span><br><span class="line">    readAsText(blob:Blob, <span class="attr">label</span>:<span class="built_in">String</span> = <span class="string">""</span>):<span class="keyword">void</span> &#123;&#125;,</span><br><span class="line"></span><br><span class="line">    abort():<span class="keyword">void</span> &#123;&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Chromeä¸­è¿˜æœ‰ <code>readAsBinaryString(blob:Blob):void {}</code> æ–¹æ³•ã€‚</p><h3 id="BlobURLç”Ÿæˆå’Œé‡Šæ”¾"><a href="#BlobURLç”Ÿæˆå’Œé‡Šæ”¾" class="headerlink" title="BlobURLç”Ÿæˆå’Œé‡Šæ”¾"></a>BlobURLç”Ÿæˆå’Œé‡Šæ”¾</h3><h4 id="ç”Ÿæˆ"><a href="#ç”Ÿæˆ" class="headerlink" title="ç”Ÿæˆ"></a>ç”Ÿæˆ</h4><p><code>BlobURL</code> æ˜¯ <code>blob:...</code> çš„å½¢å¼çš„å‡è±¡URLï¼Œå¯ä»¥é€šè¿‡ <code>URL.createObjectURL(source:Blob):BlobURLString</code> æ¥åŠ¨æ€ç”Ÿæˆï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> uint8Array = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</span><br><span class="line"><span class="keyword">var</span> blob = <span class="keyword">new</span> Blob([uint8Array], &#123; <span class="attr">type</span>: <span class="string">"application/octet-binary"</span> &#125;);</span><br><span class="line"><span class="keyword">var</span> blobURL = URL.createObjectURL(blob); <span class="comment">// "blob:http%3A//dev.w3.org/207c851d-7486-42ec-97b1-d3cd26d08ed9"</span></span><br></pre></td></tr></table></figure><p><code>URL.createObjectURL</code> æ€»æ˜¯ç”Ÿæˆå”¯ä¸€çš„ <code>BlobURL</code> ï¼ˆå¯¹äºåŒä¸€ä¸ªèµ„æºæ¯æ¬¡éƒ½ä¼šç”Ÿæˆä¸åŒçš„URLï¼‰ï¼Œç”Ÿæˆçš„ <code>BlobURL</code> åœ¨æµè§ˆå™¨å…³é—­ä¹‹å‰æœ‰æ•ˆã€‚</p><h4 id="é‡Šæ”¾"><a href="#é‡Šæ”¾" class="headerlink" title="é‡Šæ”¾"></a>é‡Šæ”¾</h4><p>å¦‚æœè¦é‡Šæ”¾BlobURLï¼Œå¯ä»¥è°ƒç”¨ <code>URL.revokeObjectURL(blobURL:BlobURLString):void</code> æ–¹æ³•ã€‚å½“ç„¶ï¼Œä¹Ÿæœ‰ <code>URL.createFor(Blob):BlobURLString</code> åˆ›å»ºå¯ä»¥è‡ªåŠ¨é‡Šæ”¾çš„BlobURLï¼Œä¸è¿‡è¦è€ƒè™‘å…¼å®¹æ€§ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> blobURL = URL.createObjectURL(file);</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">URL.revokeObjectURL(blobURL);</span><br></pre></td></tr></table></figure><p><code>img.src</code> ã€ <code>XMLHttpRequest.open(method, URL)</code> ã€<code>Audio</code> ç­‰éœ€è¦ä½¿ç”¨ URL è¯·æ±‚æ–‡ä»¶çš„æƒ…å†µï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç”ŸæˆBlobURLå‘é€ã€‚</p><p>ä¸DataURIæ—¶ç›¸æ¯”ï¼Œä½¿ç”¨BlobURLåœ¨é€Ÿåº¦å’Œå†…å­˜å ç”¨æ–¹é¢éƒ½æ›´æœ‰ä¼˜åŠ¿ï¼Œå°¤å…¶æ˜¯å¤„ç†Audioç­‰æµå¼ä¼ è¾“æ•°æ®æ—¶ï¼Œå…¶å·®å¼‚ä¼šæ›´æ˜æ˜¾ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> img = <span class="built_in">document</span>.createElement(<span class="string">"img"</span>);</span><br><span class="line">img.src = blobURL;</span><br></pre></td></tr></table></figure><p>Chromeå¯ä»¥é€šè¿‡è®¿é—®chrome://blob-internals/æ¥ç¡®è®¤æœ‰æ•ˆçš„BlobURLã€‚</p><h2 id="ç›¸äº’è½¬æ¢"><a href="#ç›¸äº’è½¬æ¢" class="headerlink" title="ç›¸äº’è½¬æ¢"></a>ç›¸äº’è½¬æ¢</h2><h3 id="Blob-File-BlobURLçš„ç›¸äº’è½¬æ¢"><a href="#Blob-File-BlobURLçš„ç›¸äº’è½¬æ¢" class="headerlink" title="Blob, File, BlobURLçš„ç›¸äº’è½¬æ¢"></a>Blob, File, BlobURLçš„ç›¸äº’è½¬æ¢</h3><p>BlobURLå¯ä»¥é€šè¿‡XMLHttpRequestè½¬æ¢æˆBlobæˆ–è€…ArrayBufferç­‰å…¶å®ƒç±»å‹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">xhr.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = xhr.response; <span class="comment">// ArrayBuffer</span></span><br><span class="line">&#125;;</span><br><span class="line">xhr.responseType = <span class="string">"arraybuffer"</span>;</span><br><span class="line"><span class="comment">//xhr.responseType = "blob";</span></span><br><span class="line">xhr.open(<span class="string">"GET"</span>, blobURL);</span><br><span class="line">xhr.send();</span><br></pre></td></tr></table></figure><p>Blob,ï¼ŒBlobURLStringï¼Œ ArrayBufferçš„ç›¸äº’è½¬æ¢å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•ï¼š</p><table><thead><tr><th style="text-align:left">åŸå§‹</th><th style="text-align:left">ç›®æ ‡</th><th style="text-align:left">æ–¹æ³•</th></tr></thead><tbody><tr><td style="text-align:left">Blob/File</td><td style="text-align:left">BlobURLString</td><td style="text-align:left">URL.createObjectURL(â€¦)</td></tr><tr><td style="text-align:left">BlobURL</td><td style="text-align:left">Blob</td><td style="text-align:left">XMLHttpRequest#responseType = â€œblobâ€</td></tr><tr><td style="text-align:left">BlobURL</td><td style="text-align:left">ArrayBuffer</td><td style="text-align:left">XMLHttpRequest#responseType = â€œarraybufferâ€</td></tr><tr><td style="text-align:left">Blob/File</td><td style="text-align:left">ArrayBuffer</td><td style="text-align:left">FileReader#readAsArrayBuffer(â€¦)</td></tr><tr><td style="text-align:left">Blob/File</td><td style="text-align:left">BinaryString</td><td style="text-align:left">FileReader#readAsBinaryString(â€¦)</td></tr><tr><td style="text-align:left">Blob/File</td><td style="text-align:left">DataURLString</td><td style="text-align:left">FileReader#readAsDataURL(â€¦)</td></tr><tr><td style="text-align:left">Blob/File</td><td style="text-align:left">String</td><td style="text-align:left">FileReader#readAsText(â€¦, ç¼–ç æ–¹å¼)</td></tr></tbody></table><p>è½¬æ¢ArryBufferçš„æ–¹å¼å¯ä»¥å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_toArrayBuffer</span>(<span class="params">source,     <span class="regexp">//</span> @arg BlobURLString|URLString|Blob|File|TypedArray|ArrayBuffer</span></span></span><br><span class="line"><span class="function"><span class="params">                        callback</span>) </span>&#123; <span class="comment">// @arg Function - callback(result:ArrayBuffer, source:Any):void</span></span><br><span class="line">    <span class="keyword">if</span> (source.buffer) &#123;</span><br><span class="line">        <span class="comment">// TypedArray</span></span><br><span class="line">        callback(source.buffer, source);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (source <span class="keyword">instanceof</span> <span class="built_in">ArrayBuffer</span>) &#123;</span><br><span class="line">        <span class="comment">// ArrayBuffer</span></span><br><span class="line">        callback(source, source);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (source <span class="keyword">instanceof</span> Blob) &#123;</span><br><span class="line">        <span class="comment">// Blob or File</span></span><br><span class="line">        <span class="keyword">var</span> reader = <span class="keyword">new</span> FileReader();</span><br><span class="line">        reader.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            callback(reader.result, source);</span><br><span class="line">        &#125;;</span><br><span class="line">        reader.readAsArrayBuffer(source);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> source === <span class="string">"string"</span>) &#123;</span><br><span class="line">        <span class="comment">// BlobURLString or URLString</span></span><br><span class="line">        <span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">        xhr.responseType = <span class="string">"arraybuffer"</span>;</span><br><span class="line">        xhr.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            callback(xhr.response, source);</span><br><span class="line">        &#125;;</span><br><span class="line">        xhr.open(<span class="string">"GET"</span>, source);</span><br><span class="line">        xhr.send();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">"Unknown type"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>FileReader#readAsText(blob, &quot;UTF-8&quot;)</code> ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æŒ‡å®šç¼–ç æ–¹å¼ï¼Œé»˜è®¤ä¸º â€œUTF-8â€ ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reader = <span class="keyword">new</span> FileReader();</span><br><span class="line"></span><br><span class="line">reader.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> buffer = reader.result; <span class="comment">// String</span></span><br><span class="line">&#125;;</span><br><span class="line">reader.readAsText(file, <span class="string">"UTF-16"</span>);</span><br></pre></td></tr></table></figure><h3 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h3><p>ã€ŠFile APIs(Blob, BlobURL, ArrayBuffer, FileReader)ã€‹ï¼š<a href="https://qiita.com/TypoScript/items/0d5b08cecf959b8b822c" target="_blank" rel="noopener">https://qiita.com/TypoScript/items/0d5b08cecf959b8b822c</a></p></div><footer class="article-footer"><a data-url="http://blog.moyufed.com/2020/03/31/File-APIsï¼ˆBlob-BlobURL-ArrayBuffer-FileReaderï¼‰/" data-id="ckheofrmt001iqsvycu6h500a" class="article-share-link">Share</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/å‰ç«¯/">å‰ç«¯</a></li></ul></footer></div></article><article id="post-ä½¿ç”¨Taroå¼€å‘ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åºä¸€" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2019/12/17/ä½¿ç”¨Taroå¼€å‘ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åºä¸€/" class="article-date"><time datetime="2019-12-17T05:02:46.000Z" itemprop="datePublished">2019-12-16</time></a></div><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2019/12/17/ä½¿ç”¨Taroå¼€å‘ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åºä¸€/">ä½¿ç”¨Taroå¼€å‘ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åºä¸€</a></h1></header><div class="article-entry" itemprop="articleBody"><h1 id="ä½¿ç”¨Taroå¼€å‘ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åºï¼ˆä¸€ï¼‰ï¼Œå°ç¨‹åºæ³¨å†Œã€é¡¹ç›®åˆ›å»º"><a href="#ä½¿ç”¨Taroå¼€å‘ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åºï¼ˆä¸€ï¼‰ï¼Œå°ç¨‹åºæ³¨å†Œã€é¡¹ç›®åˆ›å»º" class="headerlink" title="ä½¿ç”¨Taroå¼€å‘ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åºï¼ˆä¸€ï¼‰ï¼Œå°ç¨‹åºæ³¨å†Œã€é¡¹ç›®åˆ›å»º"></a>ä½¿ç”¨Taroå¼€å‘ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åºï¼ˆä¸€ï¼‰ï¼Œå°ç¨‹åºæ³¨å†Œã€é¡¹ç›®åˆ›å»º</h1><p>è§†é¢‘åœ°å€ï¼š<a href="https://www.bilibili.com/video/av76872374/" target="_blank" rel="noopener">https://www.bilibili.com/video/av76872374/</a></p><h3 id="ä¸ºä»€ä¹ˆä½¿ç”¨Taro"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨Taro" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨Taro"></a>ä¸ºä»€ä¹ˆä½¿ç”¨Taro</h3><ul><li>Taroæ˜¯ä¸€ä¸ªæ”¯æŒå¤šç«¯å¼€å‘çš„æ¡†æ¶ï¼Œå†™ä¸€å¥—ä»£ç å¯ä»¥ç¼–è¯‘æˆå„ä¸»æµå°ç¨‹åºï¼Œå¹¶ä¸”åŒ…æ‹¬H5å’ŒRNã€‚</li><li>å’ŒReactæ¥è½¨ï¼Œæ–¹ä¾¿åœ¨Reactå’ŒTaroä¹‹é—´æ— ç¼åˆ‡æ¢ï¼Œå­¦ä¹ é—¨æ§›ä¸ä¼šå¤ªé«˜ã€‚</li></ul><p>å…³äºTaroæŠ€æœ¯é€‰å‹ï¼Œè¿™é‡Œæœ‰ä¸€ç¯‡ä»‹ç»ï¼Œ<a href="http://blog.moyufed.com/2019/11/23/Taro%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B%E4%B8%8E%E6%9D%83%E8%A1%A1/">å»æŸ¥çœ‹</a> ã€‚</p><h3 id="æ³¨å†Œå°ç¨‹åº"><a href="#æ³¨å†Œå°ç¨‹åº" class="headerlink" title="æ³¨å†Œå°ç¨‹åº"></a>æ³¨å†Œå°ç¨‹åº</h3><ol><li>æ³¨å†Œå°ç¨‹åºéœ€è¦ä¸€ä¸ªç”µå­é‚®ç®±ï¼Œç„¶åè¿›å…¥<a href="https://mp.weixin.qq.com/" target="_blank" rel="noopener">å¾®ä¿¡å…¬ä¼—å¹³å°</a>ï¼Œç‚¹å‡» ã€ç«‹å³æ³¨å†Œã€‘ã€‚</li><li>è¿›å…¥åˆ°è´¦å·ç±»å‹é€‰æ‹©ï¼Œç‚¹å‡»ã€å°ç¨‹åºã€‘ï¼Œæ³¨æ„ï¼Œ<strong>ä¸€ä¸ªé‚®ç®±åªèƒ½æ³¨å†Œä¸€ä¸ªè´¦å·ç±»å‹ï¼Œè¿™äº›è´¦å·å¯ä»¥å…³è”åˆ°åŒä¸€ä¸ªå¾®ä¿¡å·</strong> ã€‚</li><li>å®Œå–„æ³¨å†Œä¿¡æ¯ï¼Œéœ€è¦è¾“å…¥é‚®ç®±åœ°å€ã€å¯†ç å¹¶ä¸”ç¡®è®¤å¯†ç ï¼Œå¡«å…¥éªŒè¯ç ä¹‹åç‚¹å‡»ã€æ³¨å†Œã€‘ã€‚</li><li>æ³¨å†Œä¹‹åï¼Œä¼šæç¤ºéªŒè¯é‚®ç®±ï¼Œç‚¹å‡»ã€ç™»å½•é‚®ç®±ã€‘å»åˆ°æ”¶ä»¶ç®±æ‰¾åˆ°å¾®ä¿¡å‘é€çš„é‚®ä»¶ï¼Œç‚¹å‡»è¯¦æƒ…é‡Œé¢çš„é“¾æ¥å®ŒæˆéªŒè¯ã€‚</li><li>å®Œå–„å¾®ä¿¡å°ç¨‹åºä¸»ä½“ä¿¡æ¯ï¼ŒåŒ…æ‹¬è´¦å·åœ°åŒºã€ä¸»ä½“ç±»å‹ï¼ˆä¸ªäººï¼‰ã€ä»¥åŠä¸»ä½“çš„ä¿¡æ¯ï¼Œç„¶åä½¿ç”¨å¾®ä¿¡äºŒç»´ç æ‰«æéªŒè¯ã€‚</li><li>æäº¤ä¿¡æ¯å®Œæˆä¹‹åï¼Œå³å¯ç‚¹å‡»ã€å‰å¾€å°ç¨‹åºã€‘è·³è½¬åˆ°å°ç¨‹åºç®¡ç†é¡µé¢ï¼Œåˆ°è¿™æ­¥ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†å°ç¨‹åºçš„æ³¨å†Œã€‚</li></ol><h3 id="ä¸‹è½½å®‰è£…å¾®ä¿¡å¼€å‘å·¥å…·"><a href="#ä¸‹è½½å®‰è£…å¾®ä¿¡å¼€å‘å·¥å…·" class="headerlink" title="ä¸‹è½½å®‰è£…å¾®ä¿¡å¼€å‘å·¥å…·"></a>ä¸‹è½½å®‰è£…å¾®ä¿¡å¼€å‘å·¥å…·</h3><p>åœ¨è¿›è¡Œå¾®ä¿¡å°ç¨‹åºå¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ°å¾®ä¿¡å¼€å‘å·¥å…·ï¼Œ<a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html" target="_blank" rel="noopener">ç‚¹å‡»è¿›å…¥</a>ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©è‡ªå·±å–œæ¬¢çš„ç‰ˆæœ¬è¿›è¡Œä¸‹è½½ï¼Œä¸‹è½½å®Œæˆä¹‹ååŒå‡»æ‰§è¡Œå®‰è£…ï¼Œä¸å¤šåšä»‹ç»ã€‚</p><h3 id="ä¸‹è½½Taro"><a href="#ä¸‹è½½Taro" class="headerlink" title="ä¸‹è½½Taro"></a>ä¸‹è½½Taro</h3><p>è¯¦ç»†è¯¦æƒ…ï¼Œå¯ä»¥å‚è€ƒ<a href="https://taro-docs.jd.com/taro/docs/GETTING-STARTED.html" target="_blank" rel="noopener">Taroæ–‡æ¡£</a> ï¼Œä¸‹é¢åšè¦ç‚¹ä»‹ç»ï¼š</p><p>é¦–å…ˆæ£€æŸ¥ <code>nodejs</code> ç‰ˆæœ¬ï¼Œæ‰“å¼€å‘½ä»¤è¡Œå·¥å…·ï¼ˆæœ¬äººä½¿ç”¨ ConEmu ï¼‰ï¼Œåœ¨å‘½ä»¤è¡Œæ‰§è¡Œï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ node -v</span><br><span class="line">v8.<span class="number">10.0</span></span><br></pre></td></tr></table></figure><blockquote><p>Taro é¡¹ç›®åŸºäº nodeï¼Œè¯·ç¡®ä¿å·²å…·å¤‡è¾ƒæ–°çš„ node ç¯å¢ƒï¼ˆ&gt;=8.0.0ï¼‰ï¼Œæ¨èä½¿ç”¨ node ç‰ˆæœ¬ç®¡ç†å·¥å…· <a href="https://github.com/creationix/nvm" target="_blank" rel="noopener">nvm</a> æ¥ç®¡ç† nodeï¼Œè¿™æ ·ä¸ä»…å¯ä»¥å¾ˆæ–¹ä¾¿åœ°åˆ‡æ¢ node ç‰ˆæœ¬ï¼Œè€Œä¸”å…¨å±€å®‰è£…æ—¶å€™ä¹Ÿä¸ç”¨åŠ  sudo äº†ã€‚</p></blockquote><p>å…³äº nvm å®‰è£…ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªä»‹ç»è§†é¢‘ï¼Œ<a href="https://www.bilibili.com/video/av71367431/" target="_blank" rel="noopener">ç‚¹å‡»æŸ¥çœ‹</a> ã€‚æ¥ç€æ‰§è¡Œå‘½ä»¤å®‰è£…Taroï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g @tarojs/cli</span><br></pre></td></tr></table></figure><p>ä¸ºäº†é¿å…æˆ‘ä»¬åœ¨ä½¿ç”¨ <code>sass</code> æ—¶å‡ºç°å®‰è£…å®‰è£…é”™è¯¯ï¼Œå¯ä»¥å†å…¨å±€å®‰è£…<a href="https://www.npmjs.com/package/mirror-config-china" target="_blank" rel="noopener"><code>mirror-config-china</code></a>ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g mirror-config-china</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆä¹‹åï¼Œå¯ä»¥æ‰§è¡Œå‘½ä»¤æŸ¥çœ‹Taroçš„ä¿¡æ¯ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ taro info</span><br><span class="line">ğŸ‘½ Taro v1.<span class="number">3.25</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  Taro CLI <span class="number">1.3</span>.<span class="number">25</span> environment info:</span><br><span class="line">    System:</span><br><span class="line">      OS: Windows <span class="number">10</span></span><br><span class="line">    Binaries:</span><br><span class="line">      Node: <span class="number">8.10</span>.<span class="number">0</span> - C:\Program Files\nodejs\node.EXE</span><br><span class="line">      Yarn: <span class="number">1.19</span>.<span class="number">1</span> - C:\Program Files (x86)\Yarn\bin\yarn.CMD</span><br><span class="line">      npm: <span class="number">5.6</span>.<span class="number">0</span> - C:\Program Files\nodejs\npm.CMD</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºç¬¬ä¸€ä¸ª-Taro-é¡¹ç›®"><a href="#åˆ›å»ºç¬¬ä¸€ä¸ª-Taro-é¡¹ç›®" class="headerlink" title="åˆ›å»ºç¬¬ä¸€ä¸ª Taro é¡¹ç›®"></a>åˆ›å»ºç¬¬ä¸€ä¸ª Taro é¡¹ç›®</h3><p>æ‰§è¡Œå‘½ä»¤åˆ›å»ºé¡¹ç›®ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ taro init é¡¹ç›®åç§°</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»¥æœ¬æ¬¡å®æˆ˜é¡¹ç›®ä¸ºä¾‹</span></span><br><span class="line">$ taro init moyufed</span><br><span class="line">âˆš æ‹‰å–è¿œç¨‹æ¨¡æ¿ä»“åº“æˆåŠŸï¼</span><br><span class="line">? è¯·è¾“å…¥é¡¹ç›®åç§°ï¼ moyufed</span><br><span class="line">? è¯·è¾“å…¥é¡¹ç›®ä»‹ç»ï¼ é¡¹ç›®ä»‹ç»</span><br><span class="line">? æ˜¯å¦éœ€è¦ä½¿ç”¨ TypeScript ï¼Ÿ No</span><br><span class="line">? è¯·é€‰æ‹© CSS é¢„å¤„ç†å™¨ï¼ˆSass/Less/Stylusï¼‰ Sass</span><br><span class="line">? è¯·é€‰æ‹©æ¨¡æ¿ mobx</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ <code>init</code> ä¹‹åï¼ŒTaro ä¼šè‡ªåŠ¨æ‰§è¡Œä¾èµ–çš„å®‰è£…ã€‚å¦‚æœæ‰§è¡Œå®‰è£…å¤±è´¥ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ ctrl+c ç»“æŸï¼Œæ‰‹åŠ¨æ‰§è¡Œå‘½ä»¤å®‰è£…ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ yarn å®‰è£…ä¾èµ–</span></span><br><span class="line">$ yarn install</span><br><span class="line"><span class="comment"># æˆ–è€…ä½¿ç”¨ npm å®‰è£…ä¾èµ–</span></span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œå‘½ä»¤å¯åŠ¨ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ yarn</span></span><br><span class="line">$ yarn dev:weapp</span><br><span class="line">$ yarn build:weapp</span><br><span class="line"><span class="comment"># ä½¿ç”¨ npm script</span></span><br><span class="line">$ npm run dev:weapp</span><br><span class="line">$ npm run build:weapp</span><br></pre></td></tr></table></figure><h3 id="è¿è¡Œå’Œé¢„è§ˆ"><a href="#è¿è¡Œå’Œé¢„è§ˆ" class="headerlink" title="è¿è¡Œå’Œé¢„è§ˆ"></a>è¿è¡Œå’Œé¢„è§ˆ</h3><p>æ‰“å¼€å·²ç»ä¸‹è½½å®‰è£…å¥½çš„å¾®ä¿¡å¼€å‘å·¥å…·ï¼Œç”¨è‡ªå·±çš„å¾®ä¿¡æ‰«æç™»å½•ã€‚ç„¶åè¿›å…¥é¡¹ç›®ç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤å¯åŠ¨dev ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ yarn</span></span><br><span class="line">$ yarn dev:weapp</span><br><span class="line"><span class="comment"># ä½¿ç”¨ npm script</span></span><br><span class="line">$ npm run dev:weapp</span><br></pre></td></tr></table></figure><p>ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨åˆšæ³¨å†Œå¥½çš„å°ç¨‹åºè¿›è¡Œé¢„è§ˆï¼Œå…ˆå»å®Œå–„å°ç¨‹åºä¿¡æ¯ï¼š</p><ol><li>è¿›å…¥å¾®ä¿¡å…¬ä¼—å¹³å°å°ç¨‹åºé¦–é¡µï¼Œç‚¹å‡»å°ç¨‹åºä¿¡æ¯æ ç›®çš„ã€å¡«å†™ã€‘å‰å¾€ä¿¡æ¯å®Œå–„é¡µé¢ï¼Œå®Œå–„å’Œæäº¤å°ç¨‹åºä¿¡æ¯ä¹‹åï¼Œç‚¹å‡»å³ä¾§ã€å¼€å‘ã€‘èœå•ï¼Œé€‰æ‹©ã€å¼€å‘è®¾ç½®ã€‘æ ‡ç­¾ï¼Œå¯ä»¥çœ‹åˆ°å°ç¨‹åºIDï¼Œå¤åˆ¶å°ç¨‹åºIDï¼Œå¡«å…¥é¡¹ç›®æ ¹ç›®å½•çš„ <code>project.config.json</code> ï¼Œä¿®æ”¹<code>appid</code> çš„å€¼ä¸ºå°ç¨‹åºçš„IDã€‚</li><li>åœ¨å°ç¨‹åºå¼€å‘å·¥å…·ä¸­ï¼Œç‚¹å‡»æ–°å»ºå°ç¨‹åºï¼Œé€‰æ‹©ã€å¯¼å…¥é¡¹ç›®ã€‘ï¼Œä¸‹æ‹‰é€‰æ‹©æˆ‘ä»¬åˆ›å»ºçš„å°ç¨‹åºé¡¹ç›®æ ¹æ–‡ä»¶å¤¹ï¼Œç‚¹å‡»ã€å¯¼å…¥ã€‘ï¼Œè¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥è¾¹ä¿®æ”¹ä»£ç è¾¹æŸ¥çœ‹å°ç¨‹åºæ•ˆæœäº†ã€‚</li></ol><p>æ›´å¤šè¯¦æƒ…ï¼Œå¯ä»¥ç‚¹å‡»æ–‡ç« å¼€å¤´çš„è§†é¢‘è¿æ¥æŸ¥çœ‹ã€‚</p></div><footer class="article-footer"><a data-url="http://blog.moyufed.com/2019/12/17/ä½¿ç”¨Taroå¼€å‘ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åºä¸€/" data-id="ckheofrlf000cqsvy9u9oc77m" class="article-share-link">Share</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/å‰ç«¯/">å‰ç«¯</a></li></ul></footer></div></article><article id="post-ä¸ªäººè´¦å•å’Œç ¸é‡‘è›‹å‰ç«¯åŠ¨ç”»åˆ†äº«" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2019/11/24/ä¸ªäººè´¦å•å’Œç ¸é‡‘è›‹å‰ç«¯åŠ¨ç”»åˆ†äº«/" class="article-date"><time datetime="2019-11-24T07:31:33.000Z" itemprop="datePublished">2019-11-23</time></a></div><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2019/11/24/ä¸ªäººè´¦å•å’Œç ¸é‡‘è›‹å‰ç«¯åŠ¨ç”»åˆ†äº«/">ä¸ªäººè´¦å•å’Œç ¸é‡‘è›‹å‰ç«¯åŠ¨ç”»åˆ†äº«</a></h1></header><div class="article-entry" itemprop="articleBody"><p>æˆ‘ä»¬åœ¨å‰ç«¯å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶å€™å®ç°ä¸€äº›é¡µé¢æ•ˆæœéœ€è¦ç”¨åˆ°CSS3åŠ¨ç”»ï¼Œæ¯”å¦‚æ´»åŠ¨é¡µé¢ã€æŠ½å¥–é¡µé¢ã€ä¸ªäººè´¦å•ç­‰ã€‚æˆ‘ä»¬å¯ä»¥ç…§ç€è®¾è®¡å¸ˆç»™çš„æ•ˆæœå®ç°ï¼Œä½†æ˜¯æˆ‘ä»¬è¿½æ±‚çš„ä¸æ­¢æ˜¯è¿™æ ·ï¼Œæˆ‘ä»¬éœ€è¦å®ç°ç²¾è‡´çš„åŠ¨ç”»ï¼Œæµç•…çš„ä½“éªŒï¼Œè¿˜æœ‰æ–°é¢–çš„äº¤äº’ã€‚ä¸‹é¢åˆ†äº«æˆ‘åœ¨åšä¸ªäººè´¦å•ã€ç ¸è›‹æŠ½å¥–è¿‡ç¨‹ä¸­çš„å¿ƒå¾—ã€‚</p><h4 id="å¼€å‘ä¹‹å‰éœ€è¦å’Œäº§å“ä¸è®¾è®¡è¿›è¡Œç›¸å…³å†…å®¹çš„ç¡®è®¤"><a href="#å¼€å‘ä¹‹å‰éœ€è¦å’Œäº§å“ä¸è®¾è®¡è¿›è¡Œç›¸å…³å†…å®¹çš„ç¡®è®¤" class="headerlink" title="å¼€å‘ä¹‹å‰éœ€è¦å’Œäº§å“ä¸è®¾è®¡è¿›è¡Œç›¸å…³å†…å®¹çš„ç¡®è®¤"></a>å¼€å‘ä¹‹å‰éœ€è¦å’Œäº§å“ä¸è®¾è®¡è¿›è¡Œç›¸å…³å†…å®¹çš„ç¡®è®¤</h4><p>ä¸ºäº†æé«˜æ•ˆç‡ã€å‡å°‘å¼€å‘éš¾åº¦ã€é¿å…é‡å¤åŠ³åŠ¨ï¼Œæˆ‘ä»¬éœ€è¦æå‰åšå¥½å‡†å¤‡ï¼š</p><ul><li>äº§å“å’Œè®¾è®¡å¹¶æå‡ºçš„éœ€æ±‚ä¹Ÿè®¸å’Œå®ç°å†²çªï¼Œä½œä¸ºå¼€å‘äººå‘˜éœ€è¦ä¸å…¶ç¡®è®¤å¯è¡Œçš„æ–¹æ¡ˆã€‚</li></ul><ul><li>å‘è®¾è®¡ç¡®è®¤è®¾è®¡è§„èŒƒã€é€‚é…ç­‰ï¼Œæˆ–è€…æå‡ºè‡ªå·±è®¤ä¸ºæ›´å¥½çš„æ•ˆæœï¼ŒæŒ‰ç…§è§„èŒƒè¿›è¡Œè®¾è®¡æœ‰åˆ©äºæ•ˆæœå’ŒåŠ¨ç”»å®ç°ã€‚</li><li>ç¡®è®¤æ•ˆæœå›¾æ˜¯å¦ç¬¦åˆè§„èŒƒï¼Œè®¾è®¡å¸ˆåˆ‡å›¾æ˜¯å¦æœ‰æ˜ç¡®çš„æ ‡æ³¨ï¼Œå›¾ç‰‡æ˜¯å¦å‹ç¼©ã€‚</li></ul><h4 id="Transitions-Transformså’ŒAnimationç®€ä»‹"><a href="#Transitions-Transformså’ŒAnimationç®€ä»‹" class="headerlink" title="Transitions, Transformså’ŒAnimationç®€ä»‹"></a>Transitions, Transformså’ŒAnimationç®€ä»‹</h4><p>CSS3åŠ¨ç”»ç›¸å…³çš„å‡ ä¸ªå±æ€§æ˜¯ï¼š<code>transition</code>, <code>transform</code>, <code>animation</code> ï¼Œåˆ†åˆ«å¯ä»¥ç†è§£ä¸ºè¿‡æ¸¡å±æ€§ï¼Œå˜æ¢å±æ€§ï¼ŒåŠ¨ç”»å±æ€§ã€‚</p><h5 id="Transiton"><a href="#Transiton" class="headerlink" title="Transiton"></a>Transiton</h5><p><code>transiton</code> å±æ€§æ˜¯ä¸€ä¸ªç®€å†™å±æ€§ï¼Œç”¨äºè®¾ç½®å››ä¸ªè¿‡æ¸¡å±æ€§ï¼š</p><ul><li><p><code>transition-property</code> æŒ‡å®šè¿‡æ¸¡çš„CSSå±æ€§å€¼ï¼Œæ¯”å¦‚ <code>transition-property:opacity</code> å°±æ˜¯åªæŒ‡å®š <code>opacity</code> å±æ€§å‚ä¸è¿™ä¸ªè¿‡æ¸¡ï¼Œ è¿˜å¯ä»¥ä½¿ç”¨ <code>all</code> æŒ‡å®šæ‰€æœ‰çš„å±æ€§å€¼ã€‚</p></li><li><p><code>transition-duration</code> æŒ‡å®šè¿‡æ¸¡çš„æŒç»­æ—¶é—´</p></li><li><p><code>transition-delay</code> å»¶è¿Ÿè¿‡æ¸¡æ—¶é—´</p></li><li><p><code>transition-timing-function</code> æŒ‡å®šè¿‡æ¸¡åŠ¨ç”»ç¼“åŠ¨ç±»å‹ï¼Œæœ‰<code>ease</code> | <code>linear</code> | <code>ease-in</code> | <code>ease-out</code> | <code>ease-in-out</code> | <code>cubic-bezier()</code>å…¶ä¸­ï¼Œ<code>linear</code>çº¿æ€§è¿‡åº¦ï¼Œ<code>ease-in</code>ç”±æ…¢åˆ°å¿«ï¼Œ<code>ease-out</code>ç”±å¿«åˆ°æ…¢ï¼Œ<code>ease-in-out</code>ç”±æ…¢åˆ°å¿«åœ¨åˆ°æ…¢ã€‚<br>æˆ‘ä»¬é€šå¸¸ä½¿ç”¨ç®€å†™ <em>transition: property duration timing-function delay;</em> ï¼Œ å¦‚ï¼š</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.global-wrap</span> <span class="selector-class">.bg</span> &#123;<span class="attribute">transition</span>: all <span class="number">1s</span> .<span class="number">6s</span> ease-out;&#125;</span><br></pre></td></tr></table></figure><p class="article-more-link"><a href="/2019/11/24/ä¸ªäººè´¦å•å’Œç ¸é‡‘è›‹å‰ç«¯åŠ¨ç”»åˆ†äº«/#more">æ›´å¤š</a></p></div><footer class="article-footer"><a data-url="http://blog.moyufed.com/2019/11/24/ä¸ªäººè´¦å•å’Œç ¸é‡‘è›‹å‰ç«¯åŠ¨ç”»åˆ†äº«/" data-id="ckheofrnj001zqsvy5qn63ci5" class="article-share-link">Share</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Nodejs/">Nodejs</a></li></ul></footer></div></article><article id="post-TaroæŠ€æœ¯é€‰å‹ä¸æƒè¡¡" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2019/11/24/TaroæŠ€æœ¯é€‰å‹ä¸æƒè¡¡/" class="article-date"><time datetime="2019-11-24T07:03:38.000Z" itemprop="datePublished">2019-11-23</time></a></div><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2019/11/24/TaroæŠ€æœ¯é€‰å‹ä¸æƒè¡¡/">TaroæŠ€æœ¯é€‰å‹ä¸æƒè¡¡</a></h1></header><div class="article-entry" itemprop="articleBody"><p>Taro æ˜¯ç”±å‡¹å‡¸å®éªŒå®¤æ‰“é€ çš„ä¸€å¥—éµå¾ª React è¯­æ³•è§„èŒƒçš„å¤šç«¯ç»Ÿä¸€å¼€å‘æ¡†æ¶ã€‚</p><p>ä»Šå¸‚é¢ä¸Šåº”ç”¨çš„å½¢æ€å¤šç§å¤šæ ·ï¼ŒWebã€Nativeã€å¾®ä¿¡å°ç¨‹åºç­‰ï¼Œå½“ä¸šåŠ¡è¦æ±‚åŒæ—¶åœ¨ä¸åŒçš„ç«¯éƒ½è¦æ±‚æœ‰æ‰€è¡¨ç°çš„æ—¶å€™ï¼Œé’ˆå¯¹ä¸åŒçš„ç«¯å»ç¼–å†™å¤šå¥—ä»£ç çš„æˆæœ¬æ˜¾ç„¶éå¸¸é«˜ï¼Œè¿™æ—¶å€™åªç¼–å†™ä¸€å¥—ä»£ç å°±èƒ½å¤Ÿé€‚é…åˆ°å¤šç«¯çš„èƒ½åŠ›å°±æ˜¾å¾—æä¸ºéœ€è¦ã€‚ä½¿ç”¨ Taroï¼Œæˆ‘ä»¬å¯ä»¥åªä¹¦å†™ä¸€å¥—ä»£ç ï¼Œå†é€šè¿‡ Taro çš„ç¼–è¯‘å·¥å…·ï¼Œå°†æºä»£ç åˆ†åˆ«ç¼–è¯‘å‡ºå¯ä»¥åœ¨ä¸åŒç«¯ï¼ˆå¾®ä¿¡å°ç¨‹åºã€H5ã€App ç«¯ç­‰ï¼‰è¿è¡Œçš„ä»£ç ã€‚</p><h3 id="Taro-æœ‰å“ªäº›ç‰¹æ€§"><a href="#Taro-æœ‰å“ªäº›ç‰¹æ€§" class="headerlink" title="Taro æœ‰å“ªäº›ç‰¹æ€§"></a>Taro æœ‰å“ªäº›ç‰¹æ€§</h3><ul><li><p>ä¸€é”®ç”Ÿæˆå¯ä»¥åœ¨å¾®ä¿¡å°ç¨‹åº/H5/ReactNativeç­‰ç«¯è¿è¡Œçš„ä»£ç </p></li><li><p>é‡‡ç”¨Reactè¯­æ³•æ ‡å‡†ï¼Œæ”¯æŒJSXä¹¦å†™ï¼Œç°ä»£çš„ç¼–è¾‘å™¨é»˜è®¤éƒ½å¯¹ JSX è¿›è¡Œäº†æ”¯æŒ</p></li><li><p>æ”¯æŒç»„ä»¶åŒ–å¼€å‘ï¼Œè®©ä»£ç å¯ä»¥å¤ç”¨ï¼Œè®©åŠŸèƒ½å¼€å‘æ›´åŠ æ¸…æ™°</p></li><li>å…¨é¢æ”¯æŒTypeScript</li><li>ä»£ç æç¤ºï¼Œå®æ—¶ä»£ç æ£€æŸ¥ï¼Œæå‡ å¼€å‘æ•ˆç‡</li><li>é…å¥—çš„å¼€å‘å·¥å…·Taro CLIå®ç°å¼€å‘æµç¨‹è‡ªåŠ¨åŒ–</li></ul><h3 id="Taroæ”¯æŒçš„å¹³å°"><a href="#Taroæ”¯æŒçš„å¹³å°" class="headerlink" title="Taroæ”¯æŒçš„å¹³å°"></a>Taroæ”¯æŒçš„å¹³å°</h3><ul><li>å¾®ä¿¡å°ç¨‹åº</li><li>H5</li><li>React Native</li><li>æ”¯ä»˜å®å°ç¨‹åº</li><li>ç™¾åº¦æ™ºèƒ½å°ç¨‹åº</li><li>å­—èŠ‚è·³åŠ¨å°ç¨‹åº</li><li>å¿«åº”ç”¨ï¼ˆæœªä¸Šçº¿ï¼‰</li><li>QQ æµè§ˆå™¨è½»åº”ç”¨ ï¼ˆæœªä¸Šçº¿ï¼‰</li></ul><h3 id="ä»£ç ç¤ºä¾‹"><a href="#ä»£ç ç¤ºä¾‹" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a>ä»£ç ç¤ºä¾‹</h3><p>Taro å…¨éƒ½æ˜¯ <code>Component</code> ç»„ä»¶ï¼Œå¹¶ä¸”å’Œ React çš„ç”Ÿå‘½å‘¨æœŸå®Œå…¨ä¸€è‡´ã€‚æŒæ¡äº† React å°±å‡ ä¹æŒæ¡äº† Taroã€‚</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Taro, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'@tarojs/taro'</span></span><br><span class="line"><span class="keyword">import</span> &#123; View, Button &#125; <span class="keyword">from</span> <span class="string">'@tarojs/components'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Index</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span> () &#123;</span><br><span class="line">    <span class="keyword">super</span>(...arguments)</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;</span><br><span class="line">      title: <span class="string">'é¦–é¡µ'</span>,</span><br><span class="line">      list: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  componentWillMount () &#123;&#125;</span><br><span class="line">  </span><br><span class="line">  componentDidMount () &#123;&#125;</span><br><span class="line">  </span><br><span class="line">  componentWillUpdate (nextProps, nextState) &#123;&#125;</span><br><span class="line">  </span><br><span class="line">  componentDidUpdate (prevProps, prevState) &#123;&#125;</span><br><span class="line">  </span><br><span class="line">  shouldComponentUpdate (nextProps, nextState) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  add = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// dosth</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render () &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;View className=<span class="string">'index'</span>&gt;</span><br><span class="line">        &lt;View className=<span class="string">'title'</span>&gt;&#123;<span class="keyword">this</span>.state.title&#125;&lt;<span class="regexp">/View&gt;</span></span><br><span class="line"><span class="regexp">        &lt;View className='content'&gt;</span></span><br><span class="line"><span class="regexp">          &#123;this.state.list.map(item =&gt; &#123;</span></span><br><span class="line"><span class="regexp">            return (</span></span><br><span class="line"><span class="regexp">              &lt;View className='item'&gt;&#123;item&#125;&lt;/</span>View&gt;</span><br><span class="line">            )</span><br><span class="line">          &#125;)&#125;</span><br><span class="line">          &lt;Button className=<span class="string">'add'</span> onClick=&#123;<span class="keyword">this</span>.add&#125;&gt;æ·»åŠ &lt;<span class="regexp">/Button&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>View&gt;</span><br><span class="line">      &lt;<span class="regexp">/View&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="æŠ€æœ¯é€‰å‹ä¸æƒè¡¡"><a href="#æŠ€æœ¯é€‰å‹ä¸æƒè¡¡" class="headerlink" title="æŠ€æœ¯é€‰å‹ä¸æƒè¡¡"></a>æŠ€æœ¯é€‰å‹ä¸æƒè¡¡</h3><h4 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h4><ul><li>ä¸€é”®ç”Ÿæˆå¯ä»¥åœ¨å¾®ä¿¡å°ç¨‹åº/H5/ReactNativeç­‰ç«¯è¿è¡Œçš„ä»£ç ï¼Œå°ç¨‹åºç«¯å·²æ”¯æŒå¾®ä¿¡å°ç¨‹åºã€æ”¯ä»˜å®å°ç¨‹åºï¼Œä½†æ— æ³•æä¾›åœ¨çº¿ç‰ˆï¼ŒH5 ç«¯ã€RN ç«¯å¯åœ¨çº¿é¢„è§ˆã€‚</li><li>ä½¿ç”¨ <code>TypeScript</code> æ¥å¯¹ä»£ç çš„å¯é æ€§è¿›ä¸€æ­¥å¢å¼ºï¼Œæˆ–ä½¿ç”¨ <code>PropsType</code> åœ¨è¿è¡Œæ—¶è¿›ä¸€æ­¥ä¿éšœä»£ç å¯é æ€§ã€‚</li><li>Taro çš„æ‰€æœ‰ APIï¼ˆåŒ…æ‹¬å¾®ä¿¡å°ç¨‹åºç­‰ç«¯èƒ½åŠ›æ¥å£ï¼‰éƒ½æœ‰æ™ºèƒ½çš„æé†’å’Œè‡ªåŠ¨è¡¥å…¨ï¼ŒåŒ…æ‹¬æ¥å£çš„å‚æ•°å’Œè¿”å›å€¼ã€‚</li><li>Taroè¯­æ³•è§„èŒƒéµå¾ªReactè§„èŒƒï¼Œç†Ÿæ‚‰Reactå°±èƒ½ä½¿ç”¨Taroè¿›è¡Œå¼€å‘ã€‚</li><li>ä½¿ç”¨JSXä½œä¸ºæ¨¡æ¿å’Œä¸šåŠ¡ä»£ç ç³»ç»Ÿï¼ŒJSX çš„æœ¬è´¨å°±æ˜¯ JavaScript çš„è¯­æ³•å¢å¼ºï¼Œæ‰€ä»¥ä¾‹å¦‚æ²¡æœ‰ <code>import</code> ç»„ä»¶ç­‰è¯­æ³•é”™è¯¯åœ¨ç¼–è¯‘æœŸå°±èƒ½å‘ç°ã€‚</li><li>æ”¯æŒsassã€lessã€postcssã€‚</li><li>æ”¯æŒReact ç»„ä»¶åŒ–è§„èŒƒï¼Œç»„ä»¶å¯å¤ç”¨å¤šç«¯ã€‚</li><li>å†…å»ºæ„å»ºç³»ç»Ÿ+webpackè‡ªåŠ¨æ„å»º</li><li>å…¨é¢æ”¯æŒTypeScript</li></ul><h4 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><h5 id="React-likeä¸å®Œå…¨ç­‰åŒ-React"><a href="#React-likeä¸å®Œå…¨ç­‰åŒ-React" class="headerlink" title="React-likeä¸å®Œå…¨ç­‰åŒ React"></a>React-likeä¸å®Œå…¨ç­‰åŒ React</h5><ul><li>å°ç¨‹åºä¸­å—é™äº WXML è¯­æ³• ï¼Œç»„ä»¶è°ƒç”¨ä¸æ”¯æŒæ‰©å±•æ“ä½œç¬¦</li><li>JSXæš‚æ—¶åªèƒ½å†™åœ¨renderä¸­</li></ul><h5 id="å¤šç«¯å·®å¼‚ä¸å¯é¿å…"><a href="#å¤šç«¯å·®å¼‚ä¸å¯é¿å…" class="headerlink" title="å¤šç«¯å·®å¼‚ä¸å¯é¿å…"></a>å¤šç«¯å·®å¼‚ä¸å¯é¿å…</h5><ul><li>æŸäº›åŠŸèƒ½åœ¨ç›¸åº”ç«¯ä¸Šæ²¡æœ‰æ”¯æŒ</li><li>æ ·å¼æ”¯æŒã€å†™æ³•ä¸Šå­˜åœ¨å·®å¼‚</li></ul><h5 id="æ²¡æœ‰çœŸæ­£æ”¯æŒå¤šç«¯çš„UIç»„ä»¶åº“"><a href="#æ²¡æœ‰çœŸæ­£æ”¯æŒå¤šç«¯çš„UIç»„ä»¶åº“" class="headerlink" title="æ²¡æœ‰çœŸæ­£æ”¯æŒå¤šç«¯çš„UIç»„ä»¶åº“"></a>æ²¡æœ‰çœŸæ­£æ”¯æŒå¤šç«¯çš„UIç»„ä»¶åº“</h5><ul><li>Taro UI æ˜¯åŸºäº Taro æ¡†æ¶å¼€å‘çš„å¤šç«¯ UI ç»„ä»¶</li><li>Taro UI æš‚ä¸æ”¯æŒ React Native</li></ul><h4 id="å­˜åœ¨çš„å‘"><a href="#å­˜åœ¨çš„å‘" class="headerlink" title="å­˜åœ¨çš„å‘"></a>å­˜åœ¨çš„å‘</h4><h5 id="æ ·å¼å·®å¼‚ç®¡ç†"><a href="#æ ·å¼å·®å¼‚ç®¡ç†" class="headerlink" title="æ ·å¼å·®å¼‚ç®¡ç†"></a>æ ·å¼å·®å¼‚ç®¡ç†</h5><ul><li>å› ä¸º React Native ä¸ä¸€èˆ¬ Web æ ·å¼æ”¯æŒåº¦å·®å¼‚è¾ƒå¤§ï¼Œç”¨äº†å¤§é‡ RN ä¸æ”¯æŒçš„æ ·å¼å†è¦å»å…¼å®¹ RN æ— å¼‚äºé‡å†™é¡µé¢ã€‚</li><li>æ ·å¼ä¸Š H5 æœ€ä¸ºçµæ´»ï¼Œå°ç¨‹åºæ¬¡ä¹‹ï¼ŒRN æœ€å¼±ï¼Œç»Ÿä¸€å¤šç«¯æ ·å¼å³æ˜¯å¯¹é½çŸ­æ¿ï¼Œä¹Ÿå°±æ˜¯è¦ä»¥ RN çš„çº¦æŸæ¥ç®¡ç†æ ·å¼ï¼ŒåŒæ—¶å…¼é¡¾å°ç¨‹åºçš„é™åˆ¶ã€‚</li></ul><h5 id="H5-ç«¯çš„å‘"><a href="#H5-ç«¯çš„å‘" class="headerlink" title="H5 ç«¯çš„å‘"></a>H5 ç«¯çš„å‘</h5><ul><li>Taro å¯¹H5 ç«¯çš„æ”¯æŒåº¦å°šå¯ï¼Œåœ¨ CSS ç‰¹æ€§ä¸Šå°±ä¸ç”¨åƒ RN é‚£æ ·æ‹˜æŸã€‚</li><li>å†…ç½®ç»„ä»¶ä¸å¤Ÿå®Œå–„ã€ç«¯èƒ½åŠ›ç¼ºå¤±è¾ƒå¤šï¼ŒTaro çš„è®¾è®¡æ˜¯ä»¥å¾®ä¿¡å°ç¨‹åºä¸ºåŸºå‡†ã€‚</li><li>å°ç¨‹åºã€RN éƒ½æ²¡æœ‰è·¨åŸŸé—®é¢˜ï¼Œä½† H5 ä¼šæœ‰ï¼Œè¿™ä¸ªå¯é€šè¿‡ devServer.proxy è§£å†³</li><li>ä»¥åŠç¼–è¯‘æ‰“åŒ…çš„é™æ€èµ„æºæ˜¯å›ºå®šæ–‡ä»¶åï¼Œæ”¹æˆå¸¦ hash å€¼æ–¹ä¾¿ç¼“å­˜ç®¡ç†ï¼Œè¿™äº›é…ç½®åœ¨é¡¹ç›®é‡Œçš„ src/config ã€‚</li></ul><h5 id="å¯¹React-Native-æ”¯æŒå¯èƒ½å­˜åœ¨éƒ¨åˆ†é—®é¢˜"><a href="#å¯¹React-Native-æ”¯æŒå¯èƒ½å­˜åœ¨éƒ¨åˆ†é—®é¢˜" class="headerlink" title="å¯¹React Native æ”¯æŒå¯èƒ½å­˜åœ¨éƒ¨åˆ†é—®é¢˜"></a>å¯¹React Native æ”¯æŒå¯èƒ½å­˜åœ¨éƒ¨åˆ†é—®é¢˜</h5><ul><li>React Native ä¸æ”¯æŒ text-overflowï¼Œè€Œæ˜¯æä¾›åŸç”Ÿæ”¯æŒ ï¼ˆText ç»„ä»¶ä¼ å…¥ numberOfLines={num} å±æ€§ï¼‰</li><li>React Native çš„ view ä¸æ”¯æŒ click äº‹ä»¶ï¼Œéœ€è¦ç”¨ Touchable ç»„ä»¶</li></ul><h5 id="å¤šç«¯è¦æ±‚è¾ƒé«˜"><a href="#å¤šç«¯è¦æ±‚è¾ƒé«˜" class="headerlink" title="å¤šç«¯è¦æ±‚è¾ƒé«˜"></a>å¤šç«¯è¦æ±‚è¾ƒé«˜</h5><ul><li>å¯¹ä¸åŒç«¯çš„å…·ä½“å·®å¼‚æœ‰æ‰€äº†è§£</li><li>æ ·å¼å®ç°è¾ƒä¸ºè‹›åˆ»ï¼Œéœ€å…¼é¡¾å¤šç«¯ã€æœ‰æ‰€å–èˆ</li><li>ç«¯èƒ½åŠ›å·®å¼‚å¯èƒ½éœ€è¦è‡ªå·±å¡«å‘</li><li>éœ€è¦å¯¹éš”æ–­å·®å¼‚åšå‡ºå–èˆ</li></ul><h5 id="æ–°æ‰‹ä½¿ç”¨"><a href="#æ–°æ‰‹ä½¿ç”¨" class="headerlink" title="æ–°æ‰‹ä½¿ç”¨"></a>æ–°æ‰‹ä½¿ç”¨</h5><ul><li>éœ€è¦ä¸Šæ‰‹Reactã€äº†è§£Reduxæ•°æ®æµç®¡ç†</li><li>å’Œç°æœ‰ ionic ç»„ä»¶ä¼šæœ‰å‡ºå…¥çš„åœ°æ–¹éœ€è¦å…¼é¡¾å’Œå–èˆ</li></ul><h3 id="å¤šç«¯å¡«å‘æ–¹å¼"><a href="#å¤šç«¯å¡«å‘æ–¹å¼" class="headerlink" title="å¤šç«¯å¡«å‘æ–¹å¼"></a>å¤šç«¯å¡«å‘æ–¹å¼</h3><ul><li>Taro æ”¯æŒç¯å¢ƒåˆ¤æ–­ç¼–è¯‘æ—¶åªä¿ç•™ç›¸åº”ç«¯ä»£ç </li><li>Taro æ”¯æŒå¼•å…¥ç›¸åº”ç«¯çš„åŸç”Ÿä»£ç </li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (process.env.TARO_ENV === <span class="string">'weapp'</span>) &#123;</span><br><span class="line">    <span class="comment">// å¾®ä¿¡å°ç¨‹åºé€»è¾‘</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (process.env.TARO_ENV === <span class="string">'h5'</span>) &#123;</span><br><span class="line">    <span class="comment">// H5 é€»è¾‘</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (process.env.TARO_ENV === <span class="string">'rn'</span>) &#123;</span><br><span class="line">    <span class="comment">// RN é€»è¾‘</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æŠ€æœ¯å’Œå¼€å‘"><a href="#æŠ€æœ¯å’Œå¼€å‘" class="headerlink" title="æŠ€æœ¯å’Œå¼€å‘"></a>æŠ€æœ¯å’Œå¼€å‘</h3><ul><li>å­¦ä¹  React/Redux</li><li>é‡‡ç”¨è‡ªæœ‰UIç»„ä»¶å’ŒTaro UIï¼Œå‡å°‘å¤šç«¯æˆæœ¬ã€‚</li><li>é€‚é…ç€é‡äºå…¼å®¹RNï¼Œå°ç¨‹åºï¼Œæ ¹æ®å¤šç«¯å·®å¼‚åè°ƒå–èˆã€‚</li><li>ä»¥H5ä¸ºä¸»ã€å°ç¨‹åºä¸ºè¾…ã€RNæ¬¡ä¹‹çš„é€‚é…æ–¹æ¡ˆï¼Œèƒ½å¤Ÿå¿«é€Ÿåº”å¯¹é¡¹ç›®äºŒå¼€ï¼Œä»äº†è§£åˆ°ç†Ÿæ‚‰ï¼Œå¾ªåºæ¸è¿›ã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>Taro è™½ç„¶æ˜¯ä»¥å¤šç«¯ä¸ºè®¾è®¡ç›®æ ‡ï¼Œä½†é‡å¿ƒæ˜¯å°ç¨‹åºç«¯ï¼ŒRN ç«¯ç›®å‰çš„æ”¯æŒæƒ…å†µä¸ç®—ç‰¹åˆ«ç†æƒ³ã€‚ä½†å……åˆ†ç†è§£å¤šç«¯å·®å¼‚ã€æŒæ¡æ­£ç¡®çš„å¤šç«¯å¼€å‘çš„æ–¹å¼ï¼Œåœ¨ç®€å•çš„é¡¹ç›®ä¸Šæ˜¯å®Œå…¨å€¼å¾—å°è¯•ã€‚</p></div><footer class="article-footer"><a data-url="http://blog.moyufed.com/2019/11/24/TaroæŠ€æœ¯é€‰å‹ä¸æƒè¡¡/" data-id="ckheofrkz0005qsvyqcdzb2kh" class="article-share-link">Share</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/å‰ç«¯/">å‰ç«¯</a></li></ul></footer></div></article><article id="post-Windowsä¸‹å®‰è£…NVM" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2019/11/24/Windowsä¸‹å®‰è£…NVM/" class="article-date"><time datetime="2019-11-24T06:30:15.000Z" itemprop="datePublished">2019-11-23</time></a></div><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2019/11/24/Windowsä¸‹å®‰è£…NVM/">Windowsä¸‹å®‰è£…NVM</a></h1></header><div class="article-entry" itemprop="articleBody"><h1 id="Windowsä¸‹å®‰è£…NVM"><a href="#Windowsä¸‹å®‰è£…NVM" class="headerlink" title="Windowsä¸‹å®‰è£…NVM"></a>Windowsä¸‹å®‰è£…NVM</h1><p>è§†é¢‘åœ°å€ï¼š<a href="https://www.bilibili.com/video/av71367431/" target="_blank" rel="noopener">https://www.bilibili.com/video/av71367431/</a></p><h3 id="1ã€äº‹å…ˆå‡†å¤‡"><a href="#1ã€äº‹å…ˆå‡†å¤‡" class="headerlink" title="1ã€äº‹å…ˆå‡†å¤‡"></a>1ã€äº‹å…ˆå‡†å¤‡</h3><p>å¸è½½å·²æœ‰çš„ <code>nodejs</code> ï¼Œå¹¶ç§»é™¤åŸæœ‰çš„ <code>nodejs</code> ç›®å½•ï¼ˆé‡è¦ï¼‰</p><h3 id="2ã€ä¸‹è½½å’Œå®‰è£…nvm"><a href="#2ã€ä¸‹è½½å’Œå®‰è£…nvm" class="headerlink" title="2ã€ä¸‹è½½å’Œå®‰è£…nvm"></a>2ã€ä¸‹è½½å’Œå®‰è£…nvm</h3><p>è®¿é—® <a href="https://github.com/coreybutler/nvm-windows/releases" target="_blank" rel="noopener">ä¸‹è½½åœ°å€</a> é€‰æ‹©è‡ªå·±éœ€è¦çš„nvmç‰ˆæœ¬è¿›è¡Œä¸‹è½½ï¼Œä¸‹è½½ <a href="https://github.com/coreybutler/nvm-windows/releases/download/1.1.7/nvm-setup.zip" target="_blank" rel="noopener">nvm-setup.zip</a> ï¼Œè§£å‹å¹¶æ‰§è¡Œé‡Œé¢çš„ <code>.exe</code> æ–‡ä»¶è¿›è¡Œå®‰è£…</p><h3 id="3ã€ä¿®æ”¹ä¸ºæ·˜å®é•œåƒ"><a href="#3ã€ä¿®æ”¹ä¸ºæ·˜å®é•œåƒ" class="headerlink" title="3ã€ä¿®æ”¹ä¸ºæ·˜å®é•œåƒ"></a>3ã€ä¿®æ”¹ä¸ºæ·˜å®é•œåƒ</h3><p>ä»¥æœ¬æœºä¸ºä¾‹ï¼Œä¿®æ”¹ <code>C:\Users\Administrator\AppData\Roaming\nvm\settings.txt</code> æ–‡ä»¶å¢åŠ æ·˜å®ä¸‹è½½é•œåƒåœ°å€ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root: C:\Users\Administrator\AppData\Roaming\nvm</span><br><span class="line">path: C:\Program Files\nodejs</span><br><span class="line">node_mirror: https://npm.taobao.org/mirrors/node/</span><br><span class="line">npm_mirror: https://npm.taobao.org/mirrors/npm/</span><br></pre></td></tr></table></figure><h3 id="4ã€æ‰“å¼€CMDï¼Œæ‰§è¡ŒnvmæŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ"><a href="#4ã€æ‰“å¼€CMDï¼Œæ‰§è¡ŒnvmæŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ" class="headerlink" title="4ã€æ‰“å¼€CMDï¼Œæ‰§è¡ŒnvmæŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ"></a>4ã€æ‰“å¼€CMDï¼Œæ‰§è¡ŒnvmæŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</h3><p>1.nvm å®‰è£…ï¼Œç›´æ¥ä¸‹è½½github å®‰è£…åŒ…å³å¯ã€‚</p><p>2.nvm å®‰è£…æˆåŠŸåï¼Œéœ€è¦æ‰‹åŠ¨çš„å¼€å¯ã€‚</p><p>nvm on</p><p>3.ä¸è¿›è¡Œç¬¬äºŒæ­¥ï¼Œnvm install 8.9.0 ï¼Œè¾“å…¥nodeï¼Œä¾æ—§æç¤º</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'node'</span> is not recognized as an internal or external command,</span><br><span class="line">operable program or batch file.</span><br></pre></td></tr></table></figure><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><p><a href="https://juejin.im/post/5cfde431e51d45775b419bac" target="_blank" rel="noopener">Win10 nvm å®‰è£…node ä¹‹ nvm on</a><br><a href="https://stackoverflow.com/questions/28313372/nvm-for-windows-not-working" target="_blank" rel="noopener">NVM for Windows not working?</a><br><a href="https://github.com/coreybutler/nvm-windows/issues/216" target="_blank" rel="noopener"><code>nvm node_mirror [url]</code> not work</a><br><a href="https://www.jianshu.com/p/d0e0935b150a" target="_blank" rel="noopener">nvmä»‹ç»åŠä½¿ç”¨</a></p></div><footer class="article-footer"><a data-url="http://blog.moyufed.com/2019/11/24/Windowsä¸‹å®‰è£…NVM/" data-id="ckheofrl30007qsvye9iqre1k" class="article-share-link">Share</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Nodejs/">Nodejs</a></li></ul></footer></div></article><article id="post-ä»€ä¹ˆæ˜¯DOMçš„äº‹ä»¶å§”æ‰˜" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2019/10/30/ä»€ä¹ˆæ˜¯DOMçš„äº‹ä»¶å§”æ‰˜/" class="article-date"><time datetime="2019-10-29T23:23:54.000Z" itemprop="datePublished">2019-10-29</time></a></div><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2019/10/30/ä»€ä¹ˆæ˜¯DOMçš„äº‹ä»¶å§”æ‰˜/">ä»€ä¹ˆæ˜¯DOMçš„äº‹ä»¶å§”æ‰˜</a></h1></header><div class="article-entry" itemprop="articleBody"><h3 id="DOMçš„äº‹ä»¶å§”æ‰˜"><a href="#DOMçš„äº‹ä»¶å§”æ‰˜" class="headerlink" title="DOMçš„äº‹ä»¶å§”æ‰˜"></a>DOMçš„äº‹ä»¶å§”æ‰˜</h3><p>DOMçš„äº‹ä»¶å§”æ‰˜ï¼ˆEvent delegationï¼‰æ˜¯é€šè¿‡äº‹ä»¶ â€å†’æ³¡â€œ (event propagation) æ¥ç”¨å•ä¸ªçˆ¶èŠ‚ç‚¹è€Œéå¤šä¸ªå­èŠ‚ç‚¹å“åº” <a href="https://www.w3.org/TR/uievents/" target="_blank" rel="noopener">UI Events</a> çš„æŠ€å·§ã€‚</p><p class="article-more-link"><a href="/2019/10/30/ä»€ä¹ˆæ˜¯DOMçš„äº‹ä»¶å§”æ‰˜/#more">æ›´å¤š</a></p></div><footer class="article-footer"><a data-url="http://blog.moyufed.com/2019/10/30/ä»€ä¹ˆæ˜¯DOMçš„äº‹ä»¶å§”æ‰˜/" data-id="ckheofrld000aqsvyxxr4jzgo" class="article-share-link">Share</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/å‰ç«¯/">å‰ç«¯</a></li></ul></footer></div></article><article id="post-MongoDBæ•°æ®åº“å¤‡ä»½å¯¼å‡ºå’Œå¯¼å…¥" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2019/09/06/MongoDBæ•°æ®åº“å¤‡ä»½å¯¼å‡ºå’Œå¯¼å…¥/" class="article-date"><time datetime="2019-09-05T23:39:22.000Z" itemprop="datePublished">2019-09-05</time></a></div><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2019/09/06/MongoDBæ•°æ®åº“å¤‡ä»½å¯¼å‡ºå’Œå¯¼å…¥/">MongoDBæ•°æ®åº“å¤‡ä»½å¯¼å‡ºå’Œå¯¼å…¥</a></h1></header><div class="article-entry" itemprop="articleBody"><h3 id="å¤„ç†-MongoDB-è¿œç¨‹æ•°æ®åº“å¤‡ä»½å¯¼å‡ºå’Œå¯¼å…¥"><a href="#å¤„ç†-MongoDB-è¿œç¨‹æ•°æ®åº“å¤‡ä»½å¯¼å‡ºå’Œå¯¼å…¥" class="headerlink" title="å¤„ç† MongoDB è¿œç¨‹æ•°æ®åº“å¤‡ä»½å¯¼å‡ºå’Œå¯¼å…¥"></a>å¤„ç† MongoDB è¿œç¨‹æ•°æ®åº“å¤‡ä»½å¯¼å‡ºå’Œå¯¼å…¥</h3><h4 id="å¯¼å‡ºå¤‡ä»½"><a href="#å¯¼å‡ºå¤‡ä»½" class="headerlink" title="å¯¼å‡ºå¤‡ä»½"></a>å¯¼å‡ºå¤‡ä»½</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mongodump -h IP --port ç«¯å£ -u ç”¨æˆ·å -p å¯†ç  -d æ•°æ®åº“ -o æ–‡ä»¶å­˜åœ¨è·¯å¾„</span><br></pre></td></tr></table></figure><p class="article-more-link"><a href="/2019/09/06/MongoDBæ•°æ®åº“å¤‡ä»½å¯¼å‡ºå’Œå¯¼å…¥/#more">æ›´å¤š</a></p></div><footer class="article-footer"><a data-url="http://blog.moyufed.com/2019/09/06/MongoDBæ•°æ®åº“å¤‡ä»½å¯¼å‡ºå’Œå¯¼å…¥/" data-id="ckheofrmk001eqsvyy1y9mvb7" class="article-share-link">Share</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Mongodb/">Mongodb</a></li></ul></footer></div></article><article id="post-Linuxä¸­å®‰è£…Nodejså’ŒMongoBDä»¥åŠMongoDBè®¾ç½®" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2019/09/05/Linuxä¸­å®‰è£…Nodejså’ŒMongoBDä»¥åŠMongoDBè®¾ç½®/" class="article-date"><time datetime="2019-09-05T02:18:10.000Z" itemprop="datePublished">2019-09-04</time></a></div><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2019/09/05/Linuxä¸­å®‰è£…Nodejså’ŒMongoBDä»¥åŠMongoDBè®¾ç½®/">Linuxä¸­å®‰è£…Nodejså’ŒMongoBDä»¥åŠMongoDBè®¾ç½®</a></h1></header><div class="article-entry" itemprop="articleBody"><h3 id="2020å¹´1æœˆ21æ—¥æ›´æ–°"><a href="#2020å¹´1æœˆ21æ—¥æ›´æ–°" class="headerlink" title="2020å¹´1æœˆ21æ—¥æ›´æ–°"></a>2020å¹´1æœˆ21æ—¥æ›´æ–°</h3><h4 id="å…³äºnodejsé•œåƒä¸‹è½½"><a href="#å…³äºnodejsé•œåƒä¸‹è½½" class="headerlink" title="å…³äºnodejsé•œåƒä¸‹è½½"></a>å…³äºnodejsé•œåƒä¸‹è½½</h4><p>å…³äºnodejsçš„å®‰è£…ï¼Œå¯ä»¥å» <a href="https://npm.taobao.org/mirrors/node" target="_blank" rel="noopener">æ·˜å®é•œåƒ</a> å¯»æ‰¾è‡ªå·±éœ€è¦çš„ç‰ˆæœ¬è¿›è¡Œä¸‹è½½ï¼Œå¦‚ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ wget https://npm.taobao.org/mirrors/node/v12.<span class="number">14.1</span>/node-v12.<span class="number">14.1</span>-linux-x64.tar.gz</span><br><span class="line">$ tar -zxvf node-v12.<span class="number">14.1</span>-linux-x64.tar.gz</span><br></pre></td></tr></table></figure><h4 id="å…³äºè§£å‹å¤±è´¥"><a href="#å…³äºè§£å‹å¤±è´¥" class="headerlink" title="å…³äºè§£å‹å¤±è´¥"></a>å…³äºè§£å‹å¤±è´¥</h4><p>ç”¨tarè§£å‹xzæ ¼å¼æ–‡ä»¶æ—¶å‡ºé”™</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tar (child): xz: Cannot exec: No such file or directory</span><br><span class="line">tar (child): Error is not recoverable: exiting now</span><br><span class="line">tar: Child returned status 2</span><br><span class="line">tar: Error is not recoverable: exiting now</span><br></pre></td></tr></table></figure><p>è§£å†³åŠæ³•æ˜¯å®‰è£…xzè½¯ä»¶åŒ…ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install xz -y</span><br></pre></td></tr></table></figure><h3 id="1ã€å®‰è£…-nodejs"><a href="#1ã€å®‰è£…-nodejs" class="headerlink" title="1ã€å®‰è£… nodejs"></a>1ã€å®‰è£… nodejs</h3><h4 id="æ–¹å¼ä¸€ï¼šä½¿ç”¨å·²ç¼–è¯‘å¥½çš„åŒ…"><a href="#æ–¹å¼ä¸€ï¼šä½¿ç”¨å·²ç¼–è¯‘å¥½çš„åŒ…" class="headerlink" title="æ–¹å¼ä¸€ï¼šä½¿ç”¨å·²ç¼–è¯‘å¥½çš„åŒ…"></a>æ–¹å¼ä¸€ï¼šä½¿ç”¨å·²ç¼–è¯‘å¥½çš„åŒ…</h4><p>é¦–å…ˆæ¥æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œä¸‹è½½nodejsï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ cd /usr</span><br><span class="line">$ mkdir software</span><br><span class="line">$ cd software/</span><br></pre></td></tr></table></figure><p class="article-more-link"><a href="/2019/09/05/Linuxä¸­å®‰è£…Nodejså’ŒMongoBDä»¥åŠMongoDBè®¾ç½®/#more">æ›´å¤š</a></p></div><footer class="article-footer"><a data-url="http://blog.moyufed.com/2019/09/05/Linuxä¸­å®‰è£…Nodejså’ŒMongoBDä»¥åŠMongoDBè®¾ç½®/" data-id="ckheofrmo001gqsvyy2xak9za" class="article-share-link">Share</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Mongodb/">Mongodb</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Nodejs/">Nodejs</a></li></ul></footer></div></article><article id="post-åœ¨Reacté¡¹ç›®ä¸­ä½¿ç”¨Redux" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2019/02/06/åœ¨Reacté¡¹ç›®ä¸­ä½¿ç”¨Redux/" class="article-date"><time datetime="2019-02-06T06:32:34.000Z" itemprop="datePublished">2019-02-05</time></a></div><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2019/02/06/åœ¨Reacté¡¹ç›®ä¸­ä½¿ç”¨Redux/">åœ¨Reacté¡¹ç›®ä¸­ä½¿ç”¨Redux</a></h1></header><div class="article-entry" itemprop="articleBody"><h3 id="1-å®‰è£…"><a href="#1-å®‰è£…" class="headerlink" title="1.å®‰è£…"></a>1.å®‰è£…</h3><p>ç´§æ¥ç€ä¸Šä¸€æ¬¡çš„å®æˆ˜é¡¹ç›®ï¼Œè¿™æ¬¡è¦æ¥å®ŒçŠ¶æ€ç®¡ç†ï¼Œä½¿ç”¨reduxï¼Œé¦–å…ˆéœ€è¦å®‰è£…ä¸€äº›åŒ…ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š</p><p><code>npm i redux react-redux redux-thunk --save</code></p><p>redux å’Œ reactå¹¶æ²¡æœ‰å¤ªå¤§çš„å…³è”ï¼Œ react-reduxä½¿å¾—reduxèƒ½å’Œreactæ›´å¥½åœ°å·¥ä½œå’Œã€‚redux-thunkæ˜¯reduxçš„ä¸€ä¸ªä¸­é—´ä»¶ï¼Œè®©æˆ‘ä»¬èƒ½å¤Ÿç›´æ¥è®¿é—®dispatchæ–¹æ³•ï¼Œå› æ­¤èƒ½å¤Ÿåœ¨actioné‡Œé¢ä½¿ç”¨å¼‚æ­¥è°ƒç”¨ã€‚</p><p class="article-more-link"><a href="/2019/02/06/åœ¨Reacté¡¹ç›®ä¸­ä½¿ç”¨Redux/#more">æ›´å¤š</a></p></div><footer class="article-footer"><a data-url="http://blog.moyufed.com/2019/02/06/åœ¨Reacté¡¹ç›®ä¸­ä½¿ç”¨Redux/" data-id="ckheofrln000kqsvymz2fgc9g" class="article-share-link">Share</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/å‰ç«¯/">å‰ç«¯</a></li></ul></footer></div></article><article id="post-react-intl + React Context API å®ç°å¤šè¯­è¨€åˆ‡æ¢" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2019/01/06/react-intl + React Context API å®ç°å¤šè¯­è¨€åˆ‡æ¢/" class="article-date"><time datetime="2019-01-06T07:21:28.000Z" itemprop="datePublished">2019-01-05</time></a></div><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2019/01/06/react-intl + React Context API å®ç°å¤šè¯­è¨€åˆ‡æ¢/">react-intl + React Context API å®ç°å¤šè¯­è¨€åˆ‡æ¢</a></h1></header><div class="article-entry" itemprop="articleBody"><p>ç´§æ¥ç€ä¸Šä¸€æ¬¡çš„å®æˆ˜é¡¹ç›®ï¼Œè¿™æ¬¡è¦æ¥å®Œå–„å¤šè¯­è¨€åˆ‡æ¢åŠŸèƒ½ï¼Œä½¿ç”¨ <a href="https://github.com/yahoo/react-intl" target="_blank" rel="noopener">react-intl</a> æ¥å¤„ç†å›½é™…åŒ–ï¼Œä¸‹é¢å¼€å§‹</p><p class="article-more-link"><a href="/2019/01/06/react-intl + React Context API å®ç°å¤šè¯­è¨€åˆ‡æ¢/#more">æ›´å¤š</a></p></div><footer class="article-footer"><a data-url="http://blog.moyufed.com/2019/01/06/react-intl + React Context API å®ç°å¤šè¯­è¨€åˆ‡æ¢/" data-id="ckheofrmv001jqsvyur1x6k0r" class="article-share-link">Share</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/å‰ç«¯/">å‰ç«¯</a></li></ul></footer></div></article><nav id="page-nav"><a class="extend prev" rel="prev" href="/">&laquo; ä¸Šä¸€é¡µ</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">ä¸‹ä¸€é¡µ &raquo;</a></nav></section><aside id="sidebar"><div class="widget-wrap"><h3 class="widget-title">æ ‡ç­¾</h3><div class="widget"><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mongodb/">Mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nodejs/">Nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webpack/">Webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/å…¨æ ˆ/">å…¨æ ˆ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/å‰ç«¯/">å‰ç«¯</a></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">æ ‡ç­¾äº‘</h3><div class="widget tagcloud"><a href="/tags/Linux/" style="font-size:10px">Linux</a> <a href="/tags/Mongodb/" style="font-size:10px">Mongodb</a> <a href="/tags/Nodejs/" style="font-size:12.5px">Nodejs</a> <a href="/tags/React/" style="font-size:15px">React</a> <a href="/tags/Webpack/" style="font-size:10px">Webpack</a> <a href="/tags/å…¨æ ˆ/" style="font-size:17.5px">å…¨æ ˆ</a> <a href="/tags/å‰ç«¯/" style="font-size:20px">å‰ç«¯</a></div></div><div class="widget-wrap"><h3 class="widget-title">å½’æ¡£</h3><div class="widget"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">åä¸€æœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">åæœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">ä¹æœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">å››æœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">ä¸‰æœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">åäºŒæœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">åä¸€æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">åæœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">ä¹æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">äºŒæœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">ä¸€æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">åäºŒæœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">åæœˆ 2018</a></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">æœ€æ–°æ–‡ç« </h3><div class="widget"><ul><li><a href="/2020/11/13/å†™-JavaScript-ç»„ä»¶ï¼ˆåº“ï¼‰çš„å°ç»†èŠ‚/">å†™ JavaScript ç»„ä»¶ï¼ˆåº“ï¼‰çš„å°ç»†èŠ‚</a></li><li><a href="/2020/10/08/äº†è§£cookieå’Œsession/">äº†è§£ cookie å’Œ session</a></li><li><a href="/2020/10/01/ã€å‰ç«¯å¼€å‘æ—¥å¸¸-4ã€‘Windowså®‰è£…RedisåŠç®€å•ä½¿ç”¨/">ã€å‰ç«¯å¼€å‘æ—¥å¸¸ - 4ã€‘Windowså®‰è£…RedisåŠç®€å•ä½¿ç”¨</a></li><li><a href="/2020/09/28/Koaä¸­é—´ä»¶ä½¿ç”¨ä¹‹koa-router/">Koaä¸­é—´ä»¶ä½¿ç”¨ä¹‹koa-router</a></li><li><a href="/2020/09/18/ã€å‰ç«¯å¼€å‘æ—¥å¸¸-7ã€‘ç®€å•ç²—æš´ï¼Œåœ¨Reactä¸­å¿«é€Ÿä½¿ç”¨Mobx/">ã€å‰ç«¯å¼€å‘æ—¥å¸¸ - 7ã€‘ç®€å•ç²—æš´ï¼Œåœ¨Reactä¸­å¿«é€Ÿä½¿ç”¨Mobx</a></li></ul></div></div></aside></div><footer id="footer"><div class="outer"><div id="footer-info" class="inner">&copy; 2020 æ‘¸é±¼å‰ç«¯ | Moyufed<br>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br><a href="http://www.beian.miit.gov.cn" target="_blank">é»”ICPå¤‡18007258å·</a></div></div></footer></div><nav id="mobile-nav"><a href="/" class="mobile-nav-link">Home</a> <a href="/archives" class="mobile-nav-link">Archives</a></nav><script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><link rel="stylesheet" href="/fancybox/jquery.fancybox.css"><script src="/fancybox/jquery.fancybox.pack.js"></script><script src="/js/script.js"></script></div></body>
---
title: 【前端开发日常 - 2】为项目添加多个Git远程仓库
date: 2020-11-23 10:42:24
tags: [前端]
---

## 需求背景
在项目开发中，我们会使用Git来进行版本控制，我们创建的本地仓库有时候需要托管到服务器，如：`GitHub`、`码云` 等。最近在做的项目代码提交到 `码云`，而在内网还需要同步到 `Gitlab`，因此需要将同一份代码关联到两个远程仓库。
## 解决方案
将本地仓库关联多个远程仓库
## 核心代码
### 命令介绍

查看已关联的远程仓库

```shell
$ git remote -v
```

&nbsp;推代码到远程仓库

```shell
$ git pull <仓库关联命名> <远程分支名>:<本地分支名>
```

从远程分支拉取代码

```shell
$ git push <仓库关联命名> <本地分支名>:<远程分支名>
```

取消本地目录下关联的远程库

```shell
$ git remote remove origin
```

### 关联方式

这里有两种关联远程仓库的方式，用来应对不同的需求。

#### 方式一

**新增关联，每个链接单独 push 代码**

添加一个远程库，名字不是  `origin`，而是自己定义的关联名称：
``` shell
$ git remote add <仓库关联命名> <远程仓库地址>
```
推拉代码

```shell
$ git pull <仓库关联命名> <远程分支名>:<本地分支名> # 推代码到远程
$ git push <仓库关联命名> <本地分支名>:<远程分支名> # 从远程分支拉取代码
```

#### 方式二

**同一个关联添加多个远程地址，同时推送到多个仓库**

增加一个远程库，名字依旧是&nbsp;`origin`
``` shell
$ git remote set-url --add origin <远程仓库地址>
```
推拉代码

```shell
$ git pull origin <远程分支名>:<本地分支名> # 推代码到远程
$ git push origin <本地分支名>:<远程分支名> # 从远程分支拉取代码
```


